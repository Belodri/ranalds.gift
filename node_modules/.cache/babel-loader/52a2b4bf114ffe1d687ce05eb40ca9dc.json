{"ast":null,"code":"var _jsxFileName = \"C:\\\\dev\\\\ranalds.gift\\\\src\\\\components\\\\heroTalents\\\\HeroTalents.js\";\nimport React, { Component } from 'react';\nimport './HeroTalents.css';\nimport { AppContext } from '../../stores/Store';\nimport { heroesData } from '../../data/Heroes';\n\nclass HeroTalents extends Component {\n  constructor(props) {\n    super(props);\n    this.renderTalents = this.renderTalents.bind(this);\n    this.renderTalent = this.renderTalent.bind(this);\n  }\n\n  getTalents(careerId) {\n    for (var i = 0; i < heroesData.length; i++) {\n      console.log(heroesData[i]);\n\n      if (heroesData[i].id === parseInt(careerId)) {\n        return heroesData[i].talents;\n      }\n    }\n  }\n\n  renderTalents() {\n    let talentList = [];\n    var selectedTalents = this.props.talents ? this.props.talents : [0, 0, 0, 0, 0, 0];\n    var careerId = this.props.careerId;\n    debugger;\n    careerId = careerId > 0 ? careerId : 1;\n    var talents = this.getTalents(careerId);\n\n    for (var i = 1; i < 7; i++) {\n      var tier = i;\n      var tierString = `level-${tier * 5}`;\n      talentList.push( /*#__PURE__*/React.createElement(\"span\", {\n        key: tierString,\n        className: `talent-lock-icon ${tierString}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 23\n        }\n      }));\n\n      for (var j = 1; j < 4; j++) {\n        var talent = (tier - 1) * 3 + j;\n        talentList.push(this.renderTalent(careerId, tier, talent, talents, selectedTalents));\n      }\n    }\n\n    return talentList;\n  }\n\n  renderTalent(careerId, tier, talentNumber, talents, selectedTalents) {\n    const [state, updateState] = this.context;\n    var talentString = `talent-${careerId.toString().padStart(2, \"0\")}${talentNumber.toString().padStart(2, \"0\")}`;\n    var talentClassName = `hero-talent tier-${tier}`;\n    var selectedTierTalent = selectedTalents[tier - 1] + (tier - 1) * 3;\n\n    if (selectedTierTalent === talentNumber) {\n      talentClassName += \" selected\";\n    }\n\n    var talentValue = talentNumber % 3 === 0 ? 3 : talentNumber % 3;\n    var talent = talents[talentNumber - 1];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      \"data-talent\": talentValue,\n      \"data-tier\": tier,\n      onClick: e => updateState({\n        type: \"UPDATE_TALENTS\",\n        payload: {\n          tier: parseInt(e.currentTarget.dataset.tier),\n          talent: parseInt(e.currentTarget.dataset.talent)\n        }\n      }),\n      key: talentString,\n      className: talentClassName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"talent-button-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `talent-icon ${talentString}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"talent-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 15\n      }\n    }, talent.name), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"talent-description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 15\n      }\n    }, talent.description)));\n  }\n\n  render() {\n    var talentsContainerClass = '';\n    var selectedTalents = this.props.talents ? this.props.talents : [0, 0, 0, 0, 0, 0];\n\n    if (!Object.values(selectedTalents).includes(0)) {\n      talentsContainerClass = \"talents-selected\";\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: `hero-talents-container ${talentsContainerClass}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hero-talents-grid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"hero-talents-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }\n    }, \"Talents\"), this.renderTalents(), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hero-talents-grid-bg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hero-talents-grid-border\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    })));\n  }\n\n  handleTalentClick(e) {\n    var tierTalents = document.querySelectorAll(`button.hero-talent[data-tier=\"${e.currentTarget.getAttribute('data-tier')}\"]`);\n    tierTalents.forEach(talent => {\n      talent.classList.remove('selected');\n    });\n    e.currentTarget.classList.add('selected');\n  }\n\n}\n\nHeroTalents.contextType = AppContext;\nexport default HeroTalents;","map":{"version":3,"sources":["C:/dev/ranalds.gift/src/components/heroTalents/HeroTalents.js"],"names":["React","Component","AppContext","heroesData","HeroTalents","constructor","props","renderTalents","bind","renderTalent","getTalents","careerId","i","length","console","log","id","parseInt","talents","talentList","selectedTalents","tier","tierString","push","j","talent","talentNumber","state","updateState","context","talentString","toString","padStart","talentClassName","selectedTierTalent","talentValue","e","type","payload","currentTarget","dataset","name","description","render","talentsContainerClass","Object","values","includes","handleTalentClick","tierTalents","document","querySelectorAll","getAttribute","forEach","classList","remove","add","contextType"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport './HeroTalents.css';\r\nimport { AppContext } from '../../stores/Store';\r\nimport {heroesData} from '../../data/Heroes'\r\n\r\nclass HeroTalents extends Component {\r\n  static contextType = AppContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.renderTalents = this.renderTalents.bind(this);\r\n    this.renderTalent = this.renderTalent.bind(this);\r\n  }\r\n\r\n  getTalents(careerId) {\r\n    for (var i = 0; i < heroesData.length; i++) {\r\n      console.log(heroesData[i])\r\n      if (heroesData[i].id === parseInt(careerId)) {\r\n        return heroesData[i].talents;\r\n      }\r\n    }\r\n  }\r\n\r\n  renderTalents() {\r\n    let talentList = [];\r\n    var selectedTalents = this.props.talents ? this.props.talents : [0,0,0,0,0,0];\r\n    var careerId = this.props.careerId;\r\n    debugger;\r\n    careerId = careerId > 0 ? careerId : 1;\r\n    var talents = this.getTalents(careerId);\r\n\r\n    for (var i = 1; i < 7; i++) {\r\n      var tier = i;\r\n      var tierString = `level-${tier*5}`\r\n\r\n      talentList.push(<span key={tierString} className={`talent-lock-icon ${tierString}`}></span>);\r\n\r\n      for (var j = 1; j < 4; j++) {\r\n        var talent = ((tier-1)*3)+j;\r\n        talentList.push(this.renderTalent(careerId, tier, talent, talents, selectedTalents));\r\n\r\n      }\r\n    }\r\n     return talentList;\r\n  }\r\n\r\n  renderTalent(careerId, tier, talentNumber, talents, selectedTalents) {\r\n    const [state, updateState] = this.context;\r\n    var talentString = `talent-${careerId.toString().padStart(2, \"0\")}${talentNumber.toString().padStart(2, \"0\")}`;\r\n    var talentClassName = `hero-talent tier-${tier}`;\r\n\r\n    var selectedTierTalent = selectedTalents[tier-1] + ((tier-1)*3);\r\n\r\n    if (selectedTierTalent === talentNumber) {\r\n      talentClassName += \" selected\";\r\n    }\r\n\r\n    var talentValue = talentNumber % 3 === 0 ? 3 : talentNumber % 3;\r\n    var talent = talents[talentNumber-1];\r\n    return <div data-talent={talentValue} data-tier={tier} onClick={(e) => updateState({type: \"UPDATE_TALENTS\", payload: { tier: parseInt(e.currentTarget.dataset.tier), talent: parseInt(e.currentTarget.dataset.talent)}})} key={talentString} className={talentClassName}>\r\n            <div className=\"talent-button-wrapper\">\r\n              <div className={`talent-icon ${talentString}`}></div>\r\n              <p className=\"talent-name\">{talent.name}</p>\r\n              <p className=\"talent-description\">{talent.description}</p>\r\n            </div>\r\n           </div>;\r\n  }\r\n\r\n  render() {\r\n    var talentsContainerClass = '';\r\n    var selectedTalents = this.props.talents ? this.props.talents : [0,0,0,0,0,0];\r\n    if (!Object.values(selectedTalents).includes(0)) {\r\n      talentsContainerClass = \"talents-selected\"\r\n    }\r\n\r\n    return (\r\n      <div className={`hero-talents-container ${talentsContainerClass}`}>\r\n        <div className=\"hero-talents-grid\">\r\n          <p className=\"hero-talents-header\">Talents</p>          \r\n          {this.renderTalents()}\r\n          <div className=\"hero-talents-grid-bg\"></div>\r\n          <div className=\"hero-talents-grid-border\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleTalentClick(e) {\r\n    var tierTalents = document.querySelectorAll(`button.hero-talent[data-tier=\"${e.currentTarget.getAttribute('data-tier')}\"]`);\r\n\r\n    tierTalents.forEach(talent => {\r\n      talent.classList.remove('selected');\r\n    });\r\n\r\n    e.currentTarget.classList.add('selected');\r\n  }\r\n}\r\n\r\nexport default HeroTalents;\r\n"]},"metadata":{},"sourceType":"module"}