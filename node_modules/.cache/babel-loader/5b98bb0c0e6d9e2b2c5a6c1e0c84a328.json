{"ast":null,"code":"var _jsxFileName = \"C:\\\\dev\\\\New folder\\\\rg\\\\src\\\\components\\\\buildPage\\\\BuildInformation.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { AppContext } from \"../../stores/Store\";\nimport { auth, db } from \"../../utils/Firebase\";\n\nclass BuildInformation extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  handleLikeBuild() {\n    const [state, updateState] = this.context;\n\n    if (!auth.currentUser) {\n      console.log('Login to like a build.');\n      return;\n    }\n\n    db.collection('builds').doc(state.buildId).collection('likes').doc(auth.currentUser.uid).get().then(buildLike => {\n      console.log('liking build');\n\n      if (buildLike.exists) {\n        if (buildLike.data().likes === true) {\n          console.log('build already liked by user');\n          return;\n        }\n      }\n\n      db.collection('builds').doc(state.buildId).collection('likes').doc(auth.currentUser.uid).set({\n        likes: true\n      }).then(() => {\n        console.log('added like to build likes collection');\n        updateState({\n          type: \"ADD_USER_LIKE\",\n          payload: auth.currentUser.uid\n        });\n      }).catch(error => {\n        console.error('Error: ', error);\n      });\n      /*             if (!build.data().likes.includes(auth.currentUser.uid)) {\r\n                      var likesList = build.data().likes;\r\n                      likesList.push(auth.currentUser.uid)\r\n                      build.ref.update({\r\n                          likes: likesList\r\n                      }).then(() => {\r\n                          console.log('Successfully liked build'); \r\n      \r\n                          updateState({\r\n                              type: \"UPDATE_LIKE_STATE\", \r\n                              payload: {\r\n                                  isLiked: true,\r\n                                  likes: likesList\r\n                              }\r\n                          });\r\n                      }).catch((error) => { \r\n                          console.error('Error liking build:', error); \r\n                      });\r\n                  } */\n    });\n    /* db.collection('buildLikes').where('userId', '==', auth.currentUser.uid).where('buildId', '==', state.buildId).get().then((querySnapshot) => {\r\n        if (querySnapshot.size > 0) {\r\n            console.log('Build like data found');\r\n            console.log(querySnapshot.docs[0].data());\r\n            var buildLikesDoc = querySnapshot.docs[0];\r\n            buildLikesDoc.ref.update({\r\n                likes: true\r\n            }).then(() => {\r\n                console.log('Successfully liked build'); \r\n                  updateState({\r\n                    type: \"UPDATE_LIKE_STATE\", \r\n                    payload: true\r\n                });\r\n            }).catch((error) => { \r\n                console.error('Error liking build:', error); \r\n            });\r\n        } else {\r\n            db.collection('buildLikes').add({\r\n                userId: auth.currentUser.uid,\r\n                buildId: state.buildId,\r\n                likes: true\r\n            }).then((buildLikeRef) => {\r\n                console.log('Successfully liked build');\r\n                  updateState({\r\n                    type: \"UPDATE_LIKE_STATE\", \r\n                    payload: true\r\n                });\r\n            }).catch((error) => {\r\n                console.error('Error liking build:', error);\r\n            })\r\n        }\r\n    }).catch((error) => {\r\n        console.error('Error getting data from BuildLikes table:', error);\r\n    }); */\n  }\n\n  handleUnlikeBuild() {\n    const [state, updateState] = this.context;\n\n    if (!auth.currentUser) {\n      console.log('Login to like a build.');\n      return;\n    }\n\n    db.collection('builds').doc(state.buildId).collection('likes').doc(auth.currentUser.uid).get().then(buildLike => {\n      console.log('liking build');\n\n      if (!buildLike.exists) {\n        console.log('build already not liked by user');\n        return;\n      }\n\n      if (buildLike.data().likes === false) {\n        console.log('build already liked by user');\n        return;\n      }\n\n      db.collection('builds').doc(state.buildId).collection('likes').doc(auth.currentUser.uid).set({\n        likes: false\n      }).then(() => {\n        console.log('removed like to build likes collection');\n        updateState({\n          type: \"REMOVE_USER_LIKE\",\n          payload: auth.currentUser.uid\n        });\n      }).catch(error => {\n        console.error('Error: ', error);\n      });\n    });\n    /*         db.collection('builds').doc(state.buildId).get().then((build) => {\r\n                if (!build.exists) {\r\n                    return;\r\n                }\r\n    \r\n                if (build.data().likes.includes(auth.currentUser.uid)) {\r\n                    var likesList = build.data().likes;\r\n                    likesList.pop(auth.currentUser.uid)\r\n                    build.ref.update({\r\n                        likes: likesList\r\n                    }).then(() => {\r\n                        console.log('Successfully unliked build'); \r\n    \r\n                        updateState({\r\n                            type: \"UPDATE_LIKE_STATE\", \r\n                            payload: {\r\n                                isLiked: false,\r\n                                likes: likesList\r\n                            }\r\n                        });\r\n                    }).catch((error) => { \r\n                        console.error('Error liking build:', error); \r\n                    });\r\n                }\r\n            }); */\n\n    /* db.collection('buildLikes').where('userId', '==', auth.currentUser.uid).where('buildId', '==', state.buildId).get().then((querySnapshot) => {\r\n        if (querySnapshot.size > 0) {\r\n            console.log('Build like data found');\r\n            console.log(querySnapshot.docs[0].data());\r\n            var buildLikesDoc = querySnapshot.docs[0];\r\n            buildLikesDoc.ref.update({\r\n                likes: false\r\n            }).then(() => {\r\n                console.log('Successfully unliked build'); \r\n                  updateState({\r\n                    type: \"UPDATE_LIKE_STATE\", \r\n                    payload: false\r\n                });\r\n            }).catch((error) => { \r\n                console.error('Error liking build:', error); \r\n            });\r\n        }\r\n    }).catch((error) => {\r\n        console.error('Error getting data from BuildLikes table:', error);\r\n    }); */\n  }\n\n  render() {\n    const [state, updateState] = this.context;\n    /*         db.collection('buildLikes').where('buildId', '==', state.buildId).where('likes', '==', true).get().then((querySnapshot) => {\r\n                if (querySnapshot.size >= 0) {\r\n                    if (querySnapshot.size !== state.likes) {\r\n                        updateState({\r\n                            type: \"UPDATE_LIKES\", \r\n                            payload: querySnapshot.size\r\n                        });\r\n                    }\r\n                }\r\n            }); */\n\n    auth.onAuthStateChanged(user => {\n      if (user !== null) {\n        var userLikesBuild = state.likes.includes(user.uid);\n\n        if (state.isLiked !== userLikesBuild) {\n          updateState({\n            type: \"UPDATE_LIKE_STATE\",\n            payload: {\n              isLiked: userLikesBuild,\n              likes: state.likes\n            }\n          });\n        }\n      }\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"build-information-container read-only-container border-02 background-18\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 26\n      }\n    }, \"Created by\"), /*#__PURE__*/React.createElement(Link, {\n      to: '/user/' + state.userId + '/view',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 49\n      }\n    }, state.username)), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 26\n      }\n    }, \"Patch\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 44\n      }\n    }, state.patch)), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"build-like-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 25\n      }\n    }, state.likes.length), /*#__PURE__*/React.createElement(\"i\", {\n      class: \"material-icons like-icon\",\n      onClick: this.handleLikeBuild.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 25\n      }\n    }, \"star_border\"), /*#__PURE__*/React.createElement(\"i\", {\n      class: \"material-icons unlike-icon\",\n      onClick: this.handleUnlikeBuild.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 25\n      }\n    }, \"star\")));\n  }\n\n}\n\nBuildInformation.contextType = AppContext;\nexport default BuildInformation;","map":{"version":3,"sources":["C:/dev/New folder/rg/src/components/buildPage/BuildInformation.js"],"names":["React","Component","Link","AppContext","auth","db","BuildInformation","constructor","props","handleLikeBuild","state","updateState","context","currentUser","console","log","collection","doc","buildId","uid","get","then","buildLike","exists","data","likes","set","type","payload","catch","error","handleUnlikeBuild","render","onAuthStateChanged","user","userLikesBuild","includes","isLiked","userId","username","patch","length","bind","contextType"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,UAAT,QAA2B,oBAA3B;AACA,SAASC,IAAT,EAAeC,EAAf,QAAyB,sBAAzB;;AAEA,MAAMC,gBAAN,SAA+BL,SAA/B,CAAyC;AAGrCM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACD;;AAEDC,EAAAA,eAAe,GAAG;AACd,UAAM,CAACC,KAAD,EAAQC,WAAR,IAAuB,KAAKC,OAAlC;;AAEA,QAAI,CAACR,IAAI,CAACS,WAAV,EAAuB;AACnBC,MAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACA;AACH;;AAEDV,IAAAA,EAAE,CAACW,UAAH,CAAc,QAAd,EAAwBC,GAAxB,CAA4BP,KAAK,CAACQ,OAAlC,EAA2CF,UAA3C,CAAsD,OAAtD,EAA+DC,GAA/D,CAAmEb,IAAI,CAACS,WAAL,CAAiBM,GAApF,EAAyFC,GAAzF,GAA+FC,IAA/F,CAAqGC,SAAD,IAAe;AAC/GR,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;;AACA,UAAIO,SAAS,CAACC,MAAd,EAAsB;AAClB,YAAID,SAAS,CAACE,IAAV,GAAiBC,KAAjB,KAA2B,IAA/B,EAAqC;AACjCX,UAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AACA;AACH;AACJ;;AAEDV,MAAAA,EAAE,CAACW,UAAH,CAAc,QAAd,EAAwBC,GAAxB,CAA4BP,KAAK,CAACQ,OAAlC,EAA2CF,UAA3C,CAAsD,OAAtD,EAA+DC,GAA/D,CAAmEb,IAAI,CAACS,WAAL,CAAiBM,GAApF,EAAyFO,GAAzF,CAA6F;AACzFD,QAAAA,KAAK,EAAE;AADkF,OAA7F,EAEGJ,IAFH,CAEQ,MAAM;AACVP,QAAAA,OAAO,CAACC,GAAR,CAAY,sCAAZ;AACAJ,QAAAA,WAAW,CAAC;AACRgB,UAAAA,IAAI,EAAE,eADE;AAERC,UAAAA,OAAO,EAAExB,IAAI,CAACS,WAAL,CAAiBM;AAFlB,SAAD,CAAX;AAIH,OARD,EAQGU,KARH,CAQUC,KAAD,IAAW;AAChBhB,QAAAA,OAAO,CAACgB,KAAR,CAAc,SAAd,EAAyBA,KAAzB;AACH,OAVD;AAYZ;;;;;;;;;;;;;;;;;;;AAmBS,KAxCD;AA0CA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB,UAAM,CAACrB,KAAD,EAAQC,WAAR,IAAuB,KAAKC,OAAlC;;AAEA,QAAI,CAACR,IAAI,CAACS,WAAV,EAAuB;AACnBC,MAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACA;AACH;;AAEDV,IAAAA,EAAE,CAACW,UAAH,CAAc,QAAd,EAAwBC,GAAxB,CAA4BP,KAAK,CAACQ,OAAlC,EAA2CF,UAA3C,CAAsD,OAAtD,EAA+DC,GAA/D,CAAmEb,IAAI,CAACS,WAAL,CAAiBM,GAApF,EAAyFC,GAAzF,GAA+FC,IAA/F,CAAqGC,SAAD,IAAe;AAC/GR,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;;AACA,UAAI,CAACO,SAAS,CAACC,MAAf,EAAuB;AACnBT,QAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ;AACA;AACH;;AAED,UAAIO,SAAS,CAACE,IAAV,GAAiBC,KAAjB,KAA2B,KAA/B,EAAsC;AAClCX,QAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AACA;AACH;;AAEDV,MAAAA,EAAE,CAACW,UAAH,CAAc,QAAd,EAAwBC,GAAxB,CAA4BP,KAAK,CAACQ,OAAlC,EAA2CF,UAA3C,CAAsD,OAAtD,EAA+DC,GAA/D,CAAmEb,IAAI,CAACS,WAAL,CAAiBM,GAApF,EAAyFO,GAAzF,CAA6F;AACzFD,QAAAA,KAAK,EAAE;AADkF,OAA7F,EAEGJ,IAFH,CAEQ,MAAM;AACVP,QAAAA,OAAO,CAACC,GAAR,CAAY,wCAAZ;AACAJ,QAAAA,WAAW,CAAC;AACRgB,UAAAA,IAAI,EAAE,kBADE;AAERC,UAAAA,OAAO,EAAExB,IAAI,CAACS,WAAL,CAAiBM;AAFlB,SAAD,CAAX;AAIH,OARD,EAQGU,KARH,CAQUC,KAAD,IAAW;AAChBhB,QAAAA,OAAO,CAACgB,KAAR,CAAc,SAAd,EAAyBA,KAAzB;AACH,OAVD;AAWH,KAvBD;AAyBR;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCQ;;;;;;;;;;;;;;;;;;;;AAqBH;;AAEDE,EAAAA,MAAM,GAAG;AACL,UAAM,CAACtB,KAAD,EAAQC,WAAR,IAAuB,KAAKC,OAAlC;AAER;;;;;;;;;;;AAWQR,IAAAA,IAAI,CAAC6B,kBAAL,CAAyBC,IAAD,IAAU;AAC9B,UAAIA,IAAI,KAAK,IAAb,EAAmB;AACf,YAAIC,cAAc,GAAGzB,KAAK,CAACe,KAAN,CAAYW,QAAZ,CAAqBF,IAAI,CAACf,GAA1B,CAArB;;AAEA,YAAIT,KAAK,CAAC2B,OAAN,KAAkBF,cAAtB,EAAsC;AAClCxB,UAAAA,WAAW,CAAC;AACRgB,YAAAA,IAAI,EAAE,mBADE;AAERC,YAAAA,OAAO,EAAE;AACLS,cAAAA,OAAO,EAAEF,cADJ;AAELV,cAAAA,KAAK,EAAEf,KAAK,CAACe;AAFR;AAFD,WAAD,CAAX;AAOH;AACJ;AAEJ,KAfD;AAiBA,wBAAQ;AAAK,MAAA,SAAS,EAAC,yEAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAL,eAA4B,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAE,WAAWf,KAAK,CAAC4B,MAAjB,GAA0B,OAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA8C5B,KAAK,CAAC6B,QAApD,CAA5B,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAL,eAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAO7B,KAAK,CAAC8B,KAAb,CAAvB,CAFJ,eAGI;AAAK,MAAA,KAAK,EAAC,sBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAO9B,KAAK,CAACe,KAAN,CAAYgB,MAAnB,CADJ,eAEI;AAAG,MAAA,KAAK,EAAC,0BAAT;AAAoC,MAAA,OAAO,EAAE,KAAKhC,eAAL,CAAqBiC,IAArB,CAA0B,IAA1B,CAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFJ,eAGI;AAAG,MAAA,KAAK,EAAC,4BAAT;AAAsC,MAAA,OAAO,EAAE,KAAKX,iBAAL,CAAuBW,IAAvB,CAA4B,IAA5B,CAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,CAHJ,CAAR;AASH;;AA/NoC;;AAAnCpC,gB,CACKqC,W,GAAcxC,U;AAiOzB,eAAeG,gBAAf","sourcesContent":["import React, { Component } from \"react\"\r\nimport { Link } from \"react-router-dom\";\r\nimport { AppContext } from \"../../stores/Store\";\r\nimport { auth, db } from \"../../utils/Firebase\";\r\n\r\nclass BuildInformation extends Component {\r\n    static contextType = AppContext;\r\n    \r\n    constructor(props) {\r\n      super(props);\r\n    }\r\n\r\n    handleLikeBuild() {\r\n        const [state, updateState] = this.context;\r\n\r\n        if (!auth.currentUser) {\r\n            console.log('Login to like a build.');\r\n            return;\r\n        }\r\n\r\n        db.collection('builds').doc(state.buildId).collection('likes').doc(auth.currentUser.uid).get().then((buildLike) => {\r\n            console.log('liking build');\r\n            if (buildLike.exists) {\r\n                if (buildLike.data().likes === true) {\r\n                    console.log('build already liked by user');\r\n                    return;\r\n                }\r\n            }\r\n\r\n            db.collection('builds').doc(state.buildId).collection('likes').doc(auth.currentUser.uid).set({\r\n                likes: true\r\n            }).then(() => {\r\n                console.log('added like to build likes collection');\r\n                updateState({\r\n                    type: \"ADD_USER_LIKE\", \r\n                    payload: auth.currentUser.uid\r\n                });\r\n            }).catch((error) => {\r\n                console.error('Error: ', error)\r\n            });\r\n\r\n/*             if (!build.data().likes.includes(auth.currentUser.uid)) {\r\n                var likesList = build.data().likes;\r\n                likesList.push(auth.currentUser.uid)\r\n                build.ref.update({\r\n                    likes: likesList\r\n                }).then(() => {\r\n                    console.log('Successfully liked build'); \r\n\r\n                    updateState({\r\n                        type: \"UPDATE_LIKE_STATE\", \r\n                        payload: {\r\n                            isLiked: true,\r\n                            likes: likesList\r\n                        }\r\n                    });\r\n                }).catch((error) => { \r\n                    console.error('Error liking build:', error); \r\n                });\r\n            } */\r\n        });\r\n\r\n        /* db.collection('buildLikes').where('userId', '==', auth.currentUser.uid).where('buildId', '==', state.buildId).get().then((querySnapshot) => {\r\n            if (querySnapshot.size > 0) {\r\n                console.log('Build like data found');\r\n                console.log(querySnapshot.docs[0].data());\r\n                var buildLikesDoc = querySnapshot.docs[0];\r\n                buildLikesDoc.ref.update({\r\n                    likes: true\r\n                }).then(() => {\r\n                    console.log('Successfully liked build'); \r\n\r\n                    updateState({\r\n                        type: \"UPDATE_LIKE_STATE\", \r\n                        payload: true\r\n                    });\r\n                }).catch((error) => { \r\n                    console.error('Error liking build:', error); \r\n                });\r\n            } else {\r\n                db.collection('buildLikes').add({\r\n                    userId: auth.currentUser.uid,\r\n                    buildId: state.buildId,\r\n                    likes: true\r\n                }).then((buildLikeRef) => {\r\n                    console.log('Successfully liked build');\r\n\r\n                    updateState({\r\n                        type: \"UPDATE_LIKE_STATE\", \r\n                        payload: true\r\n                    });\r\n                }).catch((error) => {\r\n                    console.error('Error liking build:', error);\r\n                })\r\n            }\r\n        }).catch((error) => {\r\n            console.error('Error getting data from BuildLikes table:', error);\r\n        }); */\r\n    }\r\n\r\n    handleUnlikeBuild() {\r\n        const [state, updateState] = this.context;\r\n\r\n        if (!auth.currentUser) {\r\n            console.log('Login to like a build.');\r\n            return;\r\n        }\r\n\r\n        db.collection('builds').doc(state.buildId).collection('likes').doc(auth.currentUser.uid).get().then((buildLike) => {\r\n            console.log('liking build');\r\n            if (!buildLike.exists) {\r\n                console.log('build already not liked by user');\r\n                return;\r\n            }\r\n\r\n            if (buildLike.data().likes === false) {\r\n                console.log('build already liked by user');\r\n                return;\r\n            }\r\n\r\n            db.collection('builds').doc(state.buildId).collection('likes').doc(auth.currentUser.uid).set({\r\n                likes: false\r\n            }).then(() => {\r\n                console.log('removed like to build likes collection');\r\n                updateState({\r\n                    type: \"REMOVE_USER_LIKE\", \r\n                    payload: auth.currentUser.uid\r\n                });\r\n            }).catch((error) => {\r\n                console.error('Error: ', error)\r\n            });\r\n        });\r\n        \r\n/*         db.collection('builds').doc(state.buildId).get().then((build) => {\r\n            if (!build.exists) {\r\n                return;\r\n            }\r\n\r\n            if (build.data().likes.includes(auth.currentUser.uid)) {\r\n                var likesList = build.data().likes;\r\n                likesList.pop(auth.currentUser.uid)\r\n                build.ref.update({\r\n                    likes: likesList\r\n                }).then(() => {\r\n                    console.log('Successfully unliked build'); \r\n\r\n                    updateState({\r\n                        type: \"UPDATE_LIKE_STATE\", \r\n                        payload: {\r\n                            isLiked: false,\r\n                            likes: likesList\r\n                        }\r\n                    });\r\n                }).catch((error) => { \r\n                    console.error('Error liking build:', error); \r\n                });\r\n            }\r\n        }); */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        /* db.collection('buildLikes').where('userId', '==', auth.currentUser.uid).where('buildId', '==', state.buildId).get().then((querySnapshot) => {\r\n            if (querySnapshot.size > 0) {\r\n                console.log('Build like data found');\r\n                console.log(querySnapshot.docs[0].data());\r\n                var buildLikesDoc = querySnapshot.docs[0];\r\n                buildLikesDoc.ref.update({\r\n                    likes: false\r\n                }).then(() => {\r\n                    console.log('Successfully unliked build'); \r\n\r\n                    updateState({\r\n                        type: \"UPDATE_LIKE_STATE\", \r\n                        payload: false\r\n                    });\r\n                }).catch((error) => { \r\n                    console.error('Error liking build:', error); \r\n                });\r\n            }\r\n        }).catch((error) => {\r\n            console.error('Error getting data from BuildLikes table:', error);\r\n        }); */\r\n    }\r\n\r\n    render() {\r\n        const [state, updateState] = this.context;\r\n\r\n/*         db.collection('buildLikes').where('buildId', '==', state.buildId).where('likes', '==', true).get().then((querySnapshot) => {\r\n            if (querySnapshot.size >= 0) {\r\n                if (querySnapshot.size !== state.likes) {\r\n                    updateState({\r\n                        type: \"UPDATE_LIKES\", \r\n                        payload: querySnapshot.size\r\n                    });\r\n                }\r\n            }\r\n        }); */\r\n\r\n        auth.onAuthStateChanged((user) => {\r\n            if (user !== null) {\r\n                var userLikesBuild = state.likes.includes(user.uid);\r\n  \r\n                if (state.isLiked !== userLikesBuild) {\r\n                    updateState({\r\n                        type: \"UPDATE_LIKE_STATE\",\r\n                        payload: {\r\n                            isLiked: userLikesBuild,\r\n                            likes: state.likes\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n  \r\n        });\r\n\r\n        return (<div className=\"build-information-container read-only-container border-02 background-18\">\r\n                    <div><span>Created by</span><Link to={'/user/' + state.userId + '/view'}>{state.username}</Link></div>\r\n                    <div><span>Patch</span><span>{state.patch}</span></div>\r\n                    <div class=\"build-like-container\">\r\n                        <span>{state.likes.length}</span>\r\n                        <i class=\"material-icons like-icon\" onClick={this.handleLikeBuild.bind(this)}>star_border</i>\r\n                        <i class=\"material-icons unlike-icon\" onClick={this.handleUnlikeBuild.bind(this)}>star</i>\r\n                    </div>\r\n                </div>);\r\n    }\r\n}\r\n\r\nexport default BuildInformation;"]},"metadata":{},"sourceType":"module"}