{"ast":null,"code":"var _jsxFileName = \"C:\\\\dev\\\\New folder\\\\rg\\\\src\\\\stores\\\\HeroPageStore.js\";\nimport React from 'react';\nimport { AppContext } from './Store';\nimport { withRouter } from 'react-router';\nconst HeroPageContext = React.createContext();\nexport { HeroPageContext };\n\nfunction heroPageReducer(state, action) {\n  switch (action.type) {\n    case 'INIT_STATE_FROM_URL':\n      var meleeParam = action.payload.melee;\n      var talentsParam = action.payload.talents;\n      var rangeParam = action.payload.range;\n      var necklaceParam = action.payload.necklace;\n      var charmParam = action.payload.charm;\n      var trinketParam = action.payload.trinket;\n      var careerId = action.payload.careerId ? action.payload.careerId : 1;\n      var talents = [0, 0, 0, 0, 0, 0];\n      var meleeId = 1;\n      var rangeId = 1;\n      var meleeProperty1 = 1;\n      var meleeProperty2 = 2;\n      var meleeTrait = 1;\n      var rangeProperty1 = 1;\n      var rangeProperty2 = 2;\n      var rangeTrait = 1;\n      var necklaceProperty1 = 1;\n      var necklaceProperty2 = 2;\n      var necklaceTrait = 1;\n      var charmProperty1 = 1;\n      var charmProperty2 = 2;\n      var charmTrait = 1;\n      var trinketProperty1 = 1;\n      var trinketProperty2 = 2;\n      var trinketTrait = 1;\n\n      if (typeof talentsParam != \"undefined\") {\n        talents = talentsParam.length > 6 ? talentsParam.subString(0, 6).split('').map(x => {\n          return parseInt(x);\n        }) : talentsParam.split('').map(x => {\n          return parseInt(x);\n        });\n      }\n\n      if (typeof meleeParam != \"undefined\") {\n        var meleeParams = meleeParam.split(',');\n        meleeId = parseInt(meleeParams[0]);\n\n        if (meleeParams.length > 1) {\n          meleeProperty1 = parseInt(meleeParams[1]);\n        }\n\n        if (meleeParams.length > 2) {\n          meleeProperty2 = parseInt(meleeParams[2]);\n        }\n\n        if (meleeParams.length > 3) {\n          meleeTrait = parseInt(meleeParams[3]);\n        }\n      }\n\n      if (typeof rangeParam != \"undefined\") {\n        var rangeParams = rangeParam.split(',');\n        rangeId = parseInt(rangeParams[0]);\n\n        if (rangeParams.length > 1) {\n          rangeProperty1 = parseInt(rangeParams[1]);\n        }\n\n        if (rangeParams.length > 2) {\n          rangeProperty2 = parseInt(rangeParams[2]);\n        }\n\n        if (rangeParams.length > 3) {\n          rangeTrait = parseInt(rangeParams[3]);\n        }\n      }\n\n      if (typeof necklaceParam != \"undefined\") {\n        var necklaceParams = necklaceParam.split(',');\n        necklaceProperty1 = parseInt(necklaceParams[0]);\n\n        if (necklaceParams.length > 1) {\n          necklaceProperty2 = parseInt(necklaceParams[1]);\n        }\n\n        if (necklaceParams.length > 2) {\n          necklaceTrait = parseInt(necklaceParams[2]);\n        }\n      }\n\n      if (typeof charmParam != \"undefined\") {\n        var charmParams = charmParam.split(',');\n        charmProperty1 = parseInt(charmParams[0]);\n\n        if (charmParams.length > 1) {\n          charmProperty2 = parseInt(charmParams[1]);\n        }\n\n        if (charmParams.length > 2) {\n          charmTrait = parseInt(charmParams[2]);\n        }\n      }\n\n      if (typeof trinketParam != \"undefined\") {\n        var trinketParams = trinketParam.split(',');\n        trinketProperty1 = parseInt(trinketParams[0]);\n\n        if (necklaceParams.length > 1) {\n          trinketProperty2 = parseInt(trinketParams[1]);\n        }\n\n        if (necklaceParams.length > 2) {\n          trinketTrait = parseInt(trinketParams[2]);\n        }\n      }\n\n      var properties = [meleeProperty1, meleeProperty2, rangeProperty1, rangeProperty2, necklaceProperty1, necklaceProperty2, charmProperty1, charmProperty2, trinketProperty1, trinketProperty2];\n      var traits = [meleeTrait, rangeTrait, necklaceTrait, charmTrait, trinketTrait];\n      state.history.push('/');\n      return { ...state,\n        careerId: careerId,\n        meleeId: meleeId,\n        rangeId: rangeId,\n        talents: talents,\n        properties: properties,\n        traits: traits\n      };\n\n    case 'UPDATE_CAREER':\n      return { ...state,\n        careerId: action.payload\n      };\n\n    case 'UPDATE_TALENTS':\n      var newTalents = { ...state.talents\n      };\n      newTalents = newTalents[0] < 0 ? [0, 0, 0, 0, 0, 0] : newTalents;\n      newTalents[action.payload.tier - 1] = action.payload.talent;\n      return { ...state,\n        talents: newTalents\n      };\n\n    case 'UPDATE_ALL_TALENTS':\n      return { ...state,\n        talents: action.payload\n      };\n\n    case 'UPDATE_ITEM_SELECT':\n      switch (action.payload.type) {\n        case 'melee':\n          return { ...state,\n            meleeId: action.payload.id\n          };\n\n        case 'range':\n          return { ...state,\n            rangeId: action.payload.id\n          };\n\n        case 'necklace':\n          var necklace = { ...state.necklace\n          };\n          necklace.id = action.payload.id;\n          return { ...state,\n            necklace: necklace\n          };\n\n        case 'charm':\n          var charm = { ...state.charm\n          };\n          charm.id = action.payload.id;\n          return { ...state,\n            charm: charm\n          };\n\n        case 'trinket':\n          var trinket = { ...state.trinket\n          };\n          trinket.id = action.payload.id;\n          return { ...state,\n            trinket: trinket\n          };\n\n        default:\n          throw new Error('Error updating Hero Page state.');\n      }\n\n    case 'UPDATE_PROPERTY_SELECT':\n      var newProperties = { ...state.properties\n      };\n      newProperties[action.payload.index] = action.payload.id;\n      return { ...state,\n        properties: newProperties\n      };\n\n    case 'UPDATE_TRAIT_SELECT':\n      var newTraits = { ...state.traits\n      };\n      newTraits[action.payload.index] = action.payload.id;\n      return { ...state,\n        traits: newTraits\n      };\n\n    default:\n      throw new Error('Error updating Hero Page state.');\n  }\n}\n\nexport default withRouter(function HeroPageStore(props) {\n  const stateHook = React.useReducer(heroPageReducer, {\n    history: props.history,\n    careerId: 0,\n    meleeId: 1,\n    rangeId: 1,\n    talents: [-1, 0, 0, 0, 0, 0],\n    properties: [1, 2, 1, 2, 1, 2, 1, 2, 1, 2],\n    propertyValues: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    traits: [1, 1, 1, 1, 1],\n    melee: {\n      id: 1,\n      property1Id: 1,\n      property1Value: 10,\n      property2Id: 2,\n      property2Value: 10,\n      traitId: 1\n    },\n    range: {\n      id: 1,\n      property1Id: 1,\n      property1Value: 10,\n      property2Id: 2,\n      property2Value: 10,\n      traitId: 1\n    },\n    necklace: {\n      id: 1,\n      property1Id: 1,\n      property1Value: 10,\n      property2Id: 2,\n      property2Value: 10,\n      traitId: 1\n    },\n    charm: {\n      id: 1,\n      property1Id: 1,\n      property1Value: 10,\n      property2Id: 2,\n      property2Value: 10,\n      traitId: 1\n    },\n    trinket: {\n      id: 1,\n      property1Id: 1,\n      property1Value: 10,\n      property2Id: 2,\n      property2Value: 10,\n      traitId: 1\n    }\n  });\n  return /*#__PURE__*/React.createElement(AppContext.Provider, {\n    value: stateHook,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 9\n    }\n  }, props.children);\n});","map":{"version":3,"sources":["C:/dev/New folder/rg/src/stores/HeroPageStore.js"],"names":["React","AppContext","withRouter","HeroPageContext","createContext","heroPageReducer","state","action","type","meleeParam","payload","melee","talentsParam","talents","rangeParam","range","necklaceParam","necklace","charmParam","charm","trinketParam","trinket","careerId","meleeId","rangeId","meleeProperty1","meleeProperty2","meleeTrait","rangeProperty1","rangeProperty2","rangeTrait","necklaceProperty1","necklaceProperty2","necklaceTrait","charmProperty1","charmProperty2","charmTrait","trinketProperty1","trinketProperty2","trinketTrait","length","subString","split","map","x","parseInt","meleeParams","rangeParams","necklaceParams","charmParams","trinketParams","properties","traits","history","push","newTalents","tier","talent","id","Error","newProperties","index","newTraits","HeroPageStore","props","stateHook","useReducer","propertyValues","property1Id","property1Value","property2Id","property2Value","traitId","children"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { AppContext } from './Store';\r\nimport {withRouter} from 'react-router';\r\n\r\nconst HeroPageContext = React.createContext();\r\n\r\nexport {HeroPageContext}\r\n\r\nfunction heroPageReducer(state, action) {\r\n    switch(action.type) {\r\n        case 'INIT_STATE_FROM_URL':\r\n            var meleeParam = action.payload.melee;\r\n            var talentsParam = action.payload.talents;\r\n            var rangeParam = action.payload.range;\r\n            var necklaceParam = action.payload.necklace;\r\n            var charmParam = action.payload.charm;\r\n            var trinketParam = action.payload.trinket;\r\n\r\n            var careerId = action.payload.careerId ? action.payload.careerId : 1;\r\n            var talents = [0,0,0,0,0,0];\r\n            var meleeId = 1;\r\n            var rangeId = 1;\r\n            var meleeProperty1 = 1;\r\n            var meleeProperty2 = 2;\r\n            var meleeTrait = 1;\r\n            var rangeProperty1 = 1;\r\n            var rangeProperty2 = 2;\r\n            var rangeTrait = 1;\r\n            var necklaceProperty1 = 1;\r\n            var necklaceProperty2 = 2;\r\n            var necklaceTrait = 1;\r\n            var charmProperty1 = 1;\r\n            var charmProperty2 = 2;\r\n            var charmTrait = 1;\r\n            var trinketProperty1 = 1;\r\n            var trinketProperty2 = 2;\r\n            var trinketTrait = 1;\r\n\r\n            if (typeof talentsParam != \"undefined\") {\r\n                talents = talentsParam.length > 6 ? talentsParam.subString(0,6).split('').map((x) => { return parseInt(x); }) : talentsParam.split('').map((x) => { return parseInt(x); });\r\n            }\r\n\r\n            if (typeof meleeParam != \"undefined\") {\r\n                var meleeParams = meleeParam.split(',');\r\n                meleeId = parseInt(meleeParams[0]);\r\n\r\n                if (meleeParams.length > 1) {\r\n                    meleeProperty1 = parseInt(meleeParams[1]);\r\n                }\r\n                if (meleeParams.length > 2) {\r\n                    meleeProperty2 = parseInt(meleeParams[2]);\r\n                }\r\n                if (meleeParams.length > 3) {\r\n                    meleeTrait = parseInt(meleeParams[3]);\r\n                }\r\n            }\r\n\r\n            if (typeof rangeParam != \"undefined\") {\r\n                var rangeParams = rangeParam.split(',');\r\n                rangeId = parseInt(rangeParams[0]);\r\n\r\n                if (rangeParams.length > 1) {\r\n                    rangeProperty1 = parseInt(rangeParams[1]);\r\n                }\r\n                if (rangeParams.length > 2) {\r\n                    rangeProperty2 = parseInt(rangeParams[2]);\r\n                }\r\n                if (rangeParams.length > 3) {\r\n                    rangeTrait = parseInt(rangeParams[3]);\r\n                }\r\n            }\r\n\r\n            if (typeof necklaceParam != \"undefined\") {\r\n                var necklaceParams = necklaceParam.split(',');\r\n                necklaceProperty1 = parseInt(necklaceParams[0]);\r\n\r\n                if (necklaceParams.length > 1) {\r\n                    necklaceProperty2 = parseInt(necklaceParams[1]);\r\n                }\r\n                if (necklaceParams.length > 2) {\r\n                    necklaceTrait = parseInt(necklaceParams[2]);\r\n                }\r\n            }\r\n\r\n            if (typeof charmParam != \"undefined\") {\r\n                var charmParams = charmParam.split(',');\r\n                charmProperty1 = parseInt(charmParams[0]);\r\n\r\n                if (charmParams.length > 1) {\r\n                    charmProperty2 = parseInt(charmParams[1]);\r\n                }\r\n                if (charmParams.length > 2) {\r\n                    charmTrait = parseInt(charmParams[2]);\r\n                }\r\n            }\r\n\r\n            if (typeof trinketParam != \"undefined\") {\r\n                var trinketParams = trinketParam.split(',');\r\n                trinketProperty1 = parseInt(trinketParams[0]);\r\n\r\n                if (necklaceParams.length > 1) {\r\n                    trinketProperty2 = parseInt(trinketParams[1]);\r\n                }\r\n                if (necklaceParams.length > 2) {\r\n                    trinketTrait = parseInt(trinketParams[2]);\r\n                }\r\n            }\r\n\r\n            var properties = [meleeProperty1, meleeProperty2, rangeProperty1, rangeProperty2, necklaceProperty1, necklaceProperty2, charmProperty1, charmProperty2, trinketProperty1, trinketProperty2]\r\n            var traits = [meleeTrait, rangeTrait, necklaceTrait, charmTrait, trinketTrait];\r\n\r\n            state.history.push('/');\r\n            \r\n            return {...state,\r\n                        careerId: careerId,\r\n                        meleeId: meleeId,\r\n                        rangeId: rangeId,\r\n                        talents: talents,\r\n                        properties: properties,\r\n                        traits: traits\r\n                    };\r\n        case 'UPDATE_CAREER':\r\n            return {...state, careerId: action.payload};\r\n        case 'UPDATE_TALENTS':\r\n            var newTalents = {...state.talents};\r\n            newTalents = newTalents[0] < 0 ? [0,0,0,0,0,0] : newTalents;\r\n            newTalents[action.payload.tier-1] = action.payload.talent;\r\n            return {...state, talents: newTalents};\r\n        case 'UPDATE_ALL_TALENTS':\r\n            return {...state, talents: action.payload};\r\n        case 'UPDATE_ITEM_SELECT':\r\n            switch (action.payload.type) {\r\n                case 'melee':\r\n                    return {...state, meleeId: action.payload.id};\r\n                case 'range':\r\n                    return {...state, rangeId: action.payload.id};\r\n                case 'necklace':\r\n                    var necklace = {...state.necklace};\r\n                    necklace.id = action.payload.id;\r\n                    return {...state, necklace: necklace};\r\n                case 'charm':\r\n                    var charm = {...state.charm};\r\n                    charm.id = action.payload.id;\r\n                    return {...state, charm: charm};\r\n                case 'trinket':\r\n                    var trinket = {...state.trinket};\r\n                    trinket.id = action.payload.id;\r\n                    return {...state, trinket: trinket};\r\n                default:\r\n                    throw new Error('Error updating Hero Page state.');\r\n            }\r\n        case 'UPDATE_PROPERTY_SELECT':\r\n            var newProperties = {...state.properties};\r\n            newProperties[action.payload.index] = action.payload.id;\r\n            return {...state, properties: newProperties}\r\n        case 'UPDATE_TRAIT_SELECT':\r\n            var newTraits = {...state.traits};\r\n            newTraits[action.payload.index] = action.payload.id;\r\n            return {...state, traits: newTraits}\r\n        default:\r\n            throw new Error('Error updating Hero Page state.');\r\n        }\r\n}\r\n\r\nexport default withRouter(function HeroPageStore(props) {\r\n\r\n    const stateHook = React.useReducer(heroPageReducer, {\r\n        history: props.history,\r\n        careerId: 0,\r\n        meleeId: 1,\r\n        rangeId: 1,\r\n        talents: [-1,0,0,0,0,0],\r\n        properties: [1,2,1,2,1,2,1,2,1,2],\r\n        propertyValues: [0,0,0,0,0,0,0,0,0,0],\r\n        traits: [1,1,1,1,1],\r\n        melee: {\r\n            id: 1,\r\n            property1Id: 1,\r\n            property1Value: 10,\r\n            property2Id: 2,\r\n            property2Value: 10,\r\n            traitId: 1\r\n        },\r\n        range: {\r\n            id: 1,\r\n            property1Id: 1,\r\n            property1Value: 10,\r\n            property2Id: 2,\r\n            property2Value: 10,\r\n            traitId: 1\r\n        },\r\n        necklace: {\r\n            id: 1,\r\n            property1Id: 1,\r\n            property1Value: 10,\r\n            property2Id: 2,\r\n            property2Value: 10,\r\n            traitId: 1\r\n        },\r\n        charm: {\r\n            id: 1,\r\n            property1Id: 1,\r\n            property1Value: 10,\r\n            property2Id: 2,\r\n            property2Value: 10,\r\n            traitId: 1\r\n        },\r\n        trinket: {\r\n            id: 1,\r\n            property1Id: 1,\r\n            property1Value: 10,\r\n            property2Id: 2,\r\n            property2Value: 10,\r\n            traitId: 1\r\n        }\r\n    });\r\n\r\n    return (\r\n        <AppContext.Provider value={stateHook}>\r\n            {props.children}\r\n        </AppContext.Provider>\r\n    )\r\n});"]},"metadata":{},"sourceType":"module"}