{"ast":null,"code":"var _jsxFileName = \"C:\\\\dev\\\\New folder\\\\rg\\\\src\\\\components\\\\inventory\\\\ItemSelect.js\";\nimport React, { Component } from 'react';\nimport './ItemSelect.css';\nimport { AppContext } from '../../stores/Store';\nimport { heroesData } from '../../data/Heroes';\nimport { meleeWeaponsData } from '../../data/MeleeWeapons';\nimport { rangeWeaponsData } from '../../data/RangeWeapons';\nimport WeaponIcon from './WeaponIcon';\n\nclass ItemSelect extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleItemSelectChanged = e => {\n      alert('select changed');\n      const [state, updateState] = this.context;\n      updateState({\n        type: \"UPDATE_ITEM_SELECT\",\n        payload: {\n          id: parseInt(e.currentTarget.dataset.id),\n          type: e.currentTarget.dataset.type\n        }\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: this.props.type + \"-container inventory-item-container border-01\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: this.props.type + \"-header\",\n      style: {\n        textTransform: 'uppercase'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 13\n      }\n    }, this.props.type), /*#__PURE__*/React.createElement(\"div\", {\n      className: this.props.type + \"-divider divider-06\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 13\n      }\n    }), this.renderItems());\n  }\n\n  renderItems() {\n    const [state] = this.context;\n\n    if (this.props.type === 'melee') {\n      return this.renderItemContainer(meleeWeaponsData, this.props.type, state.meleeId);\n    } else {\n      if (parseInt(state.careerId) === 6 || parseInt(state.careerId) === 16) {\n        return this.renderItemContainer(meleeWeaponsData, this.props.type, state.rangeId);\n      }\n\n      return this.renderItemContainer(rangeWeaponsData, this.props.type, state.rangeId);\n    }\n  }\n\n  renderItemContainer(itemsData, itemType, selectedItemId) {\n    const [state, updateState] = this.context;\n    var weaponsContainerHtml = [];\n    var hero = heroesData.find(hero => {\n      return parseInt(hero.id) === parseInt(state.careerId);\n    });\n    hero = hero ? hero : heroesData[0];\n    var heroItems = itemsData.filter(item => {\n      return item.canWield.indexOf(hero.codeName) >= 0;\n    });\n    var item = heroItems.find(item => {\n      return parseInt(item.id) === parseInt(selectedItemId);\n    });\n\n    if (!item) {\n      item = heroItems[0];\n      updateState({\n        type: \"UPDATE_ITEM_SELECT\",\n        payload: {\n          id: item.id,\n          type: itemType\n        }\n      });\n    }\n\n    for (var i = 0; i < heroItems.length; i++) {\n      item = heroItems[i];\n      weaponsContainerHtml.push(this.renderItem(item, itemType, parseInt(item.id) === parseInt(selectedItemId)));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"weapon-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, weaponsContainerHtml);\n  }\n\n  renderItem(item, itemType, selected) {\n    var weaponIconClass = selected ? 'weapon-icon selected' : 'weapon-icon';\n    return /*#__PURE__*/React.createElement(WeaponIcon, {\n      id: item.id,\n      type: itemType,\n      selected: selected,\n      handleClick: this.itemSelectChanged,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 12\n      }\n    });\n    /*     <div key={item.id} className=\"weapon-background\">\r\n                  <div className={item.codeName}>\r\n                      <div className={weaponIconClass} data-id={item.id} data-type={itemType} onClick={this.itemSelectChanged.bind(this)}></div>\r\n                  </div>\r\n              </div>; */\n  }\n\n  itemSelectChanged(e) {\n    alert('select changed');\n    const [state, updateState] = this.context;\n    updateState({\n      type: \"UPDATE_ITEM_SELECT\",\n      payload: {\n        id: parseInt(e.currentTarget.dataset.id),\n        type: e.currentTarget.dataset.type\n      }\n    });\n  }\n\n  handleItemClick(e) {\n    e.currentTarget.classList.add('selected');\n  }\n\n}\n\nItemSelect.contextType = AppContext;\nexport default ItemSelect;","map":{"version":3,"sources":["C:/dev/New folder/rg/src/components/inventory/ItemSelect.js"],"names":["React","Component","AppContext","heroesData","meleeWeaponsData","rangeWeaponsData","WeaponIcon","ItemSelect","handleItemSelectChanged","e","alert","state","updateState","context","type","payload","id","parseInt","currentTarget","dataset","render","props","textTransform","renderItems","renderItemContainer","meleeId","careerId","rangeId","itemsData","itemType","selectedItemId","weaponsContainerHtml","hero","find","heroItems","filter","item","canWield","indexOf","codeName","i","length","push","renderItem","selected","weaponIconClass","itemSelectChanged","handleItemClick","classList","add","contextType"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport './ItemSelect.css';\r\nimport { AppContext } from '../../stores/Store';\r\nimport {heroesData} from '../../data/Heroes'\r\nimport {meleeWeaponsData} from '../../data/MeleeWeapons'\r\nimport {rangeWeaponsData} from '../../data/RangeWeapons'\r\nimport WeaponIcon from './WeaponIcon';\r\n\r\nclass ItemSelect extends Component {\r\n  static contextType = AppContext;\r\n\r\n  render() {\r\n    return (\r\n        <div className={this.props.type + \"-container inventory-item-container border-01\"}>\r\n            <p className={this.props.type + \"-header\"} style={{textTransform: 'uppercase'}}>{this.props.type}</p>\r\n            <div className={this.props.type + \"-divider divider-06\"}></div>\r\n            {this.renderItems()}\r\n        </div>\r\n    );\r\n  }\r\n\r\n  renderItems() {\r\n    const [state] = this.context;\r\n\r\n    if (this.props.type === 'melee') {\r\n        return this.renderItemContainer(meleeWeaponsData, this.props.type, state.meleeId);\r\n    } else {\r\n      if (parseInt(state.careerId) === 6 || parseInt(state.careerId) === 16) {\r\n        return this.renderItemContainer(meleeWeaponsData, this.props.type, state.rangeId);\r\n      }\r\n        return this.renderItemContainer(rangeWeaponsData, this.props.type, state.rangeId);\r\n    }\r\n  }\r\n\r\n  renderItemContainer(itemsData, itemType, selectedItemId) {\r\n    const [state, updateState] = this.context;\r\n    var weaponsContainerHtml = [];\r\n\r\n    var hero = heroesData.find((hero) => { return parseInt(hero.id) === parseInt(state.careerId); });\r\n    hero = hero ? hero : heroesData[0];\r\n    \r\n    var heroItems = itemsData.filter((item) => { return item.canWield.indexOf(hero.codeName) >= 0; });\r\n    \r\n    var item = heroItems.find((item) => { return parseInt(item.id) === parseInt(selectedItemId); });\r\n    if (!item) {\r\n      item = heroItems[0];\r\n        updateState({\r\n          type: \"UPDATE_ITEM_SELECT\", \r\n          payload: { \r\n              id: item.id, \r\n              type: itemType\r\n          }\r\n      });\r\n    }\r\n    \r\n    for (var i = 0; i < heroItems.length; i++) {\r\n      item = heroItems[i];\r\n      weaponsContainerHtml.push(this.renderItem(item, itemType, parseInt(item.id) === parseInt(selectedItemId)));\r\n    }\r\n\r\n    return (\r\n        <div className=\"weapon-container\">\r\n            {weaponsContainerHtml}\r\n        </div>            \r\n    );\r\n  }\r\n\r\n  renderItem(item, itemType, selected) {\r\n    var weaponIconClass = selected ? 'weapon-icon selected' : 'weapon-icon';\r\n    return <WeaponIcon id={item.id} type={itemType} selected={selected} handleClick={this.itemSelectChanged}></WeaponIcon>;\r\n    \r\n/*     <div key={item.id} className=\"weapon-background\">\r\n              <div className={item.codeName}>\r\n                  <div className={weaponIconClass} data-id={item.id} data-type={itemType} onClick={this.itemSelectChanged.bind(this)}></div>\r\n              </div>\r\n          </div>; */\r\n  }\r\n\r\n  handleItemSelectChanged = (e) => {\r\n    alert('select changed');\r\n    const [state, updateState] = this.context;\r\n    updateState({\r\n        type: \"UPDATE_ITEM_SELECT\", \r\n        payload: { \r\n            id: parseInt(e.currentTarget.dataset.id), \r\n            type: e.currentTarget.dataset.type\r\n        }\r\n    });\r\n  }\r\n\r\n  itemSelectChanged(e) {\r\n    alert('select changed');\r\n    const [state, updateState] = this.context;\r\n    updateState({\r\n        type: \"UPDATE_ITEM_SELECT\", \r\n        payload: { \r\n            id: parseInt(e.currentTarget.dataset.id), \r\n            type: e.currentTarget.dataset.type\r\n        }\r\n    });\r\n  }\r\n\r\n  handleItemClick(e) {\r\n\r\n    e.currentTarget.classList.add('selected');\r\n  }\r\n}\r\n\r\nexport default ItemSelect;"]},"metadata":{},"sourceType":"module"}