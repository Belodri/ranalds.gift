{"ast":null,"code":"var _jsxFileName = \"C:\\\\dev\\\\New folder\\\\rg\\\\src\\\\stores\\\\BuildListPageStore.js\";\nimport React from 'react';\nimport { db } from '../utils/Firebase';\nimport { AppContext } from './Store';\nconst BuildListPageContext = React.createContext();\nexport { BuildListPageContext };\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'UPDATE_CAREER':\n      var builds = { ...state.builds\n      };\n\n      if (state.careerId !== action.payload) {\n        alert('updating build list based on new career');\n        let buildsQuery = db.collection('builds').where('careerId', '==', state.careerId);\n        buildsQuery.orderBy('dateModified').limit(10).get().then(querySnapshot => {\n          var builds = [];\n          querySnapshot.forEach(build => {\n            builds.push({\n              id: build.id,\n              data: build.data()\n            });\n          });\n          alert('updating build list');\n          return { ...state,\n            careerId: action.payload,\n            builds: builds,\n            buildsLastDoc: querySnapshot.docs[querySnapshot.docs.length - 1],\n            buildsCurrentPage: 1,\n            pageCount: Math.round(querySnapshot.size / 10) + 1\n          };\n        });\n      }\n\n      return { ...state,\n        careerId: action.payload\n      };\n\n    case 'UPDATE_BUILDS_DATA':\n      return { ...state,\n        builds: action.payload.builds,\n        buildsLastDoc: action.payload.lastDoc,\n        buildsPageCount: action.payload.pageCount,\n        buildsCurrentPage: action.payload.currentPage,\n        isInitialized: true\n      };\n\n    default:\n      throw new Error('Error updating Build List Page state.');\n  }\n}\n\nexport default function BuildListPageStore(props) {\n  const stateHook = React.useReducer(reducer, {\n    builds: [],\n    buildsLastDocument: {},\n    buildsCurrentPage: 0,\n    buildsCount: 0,\n    careerId: 0,\n    meleeId: 0,\n    meleeProperty1: 0,\n    meleeProperty2: 0,\n    meleeTrait: 0,\n    rangeId: 0,\n    rangeProperty1: 0,\n    rangeProperty2: 0,\n    rangeTrait: 0,\n    necklaceProperty1: 0,\n    necklaceProperty2: 0,\n    necklaceTrait: 0,\n    charmProperty1: 0,\n    charmProperty2: 0,\n    charmTrait: 0,\n    trinketProperty1: 0,\n    trinketProperty2: 0,\n    trinketTrait: 0,\n    talent1: 0,\n    talent2: 0,\n    talent3: 0,\n    talent4: 0,\n    talent5: 0,\n    talent6: 0,\n    name: '',\n    description: '',\n    difficulty: '',\n    mission: '',\n    potion: '',\n    roles: [],\n    patch: '',\n    userId: '',\n    username: '',\n    isInitialized: false\n  });\n  return /*#__PURE__*/React.createElement(AppContext.Provider, {\n    value: stateHook,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, props.children);\n}","map":{"version":3,"sources":["C:/dev/New folder/rg/src/stores/BuildListPageStore.js"],"names":["React","db","AppContext","BuildListPageContext","createContext","reducer","state","action","type","builds","careerId","payload","alert","buildsQuery","collection","where","orderBy","limit","get","then","querySnapshot","forEach","build","push","id","data","buildsLastDoc","docs","length","buildsCurrentPage","pageCount","Math","round","size","lastDoc","buildsPageCount","currentPage","isInitialized","Error","BuildListPageStore","props","stateHook","useReducer","buildsLastDocument","buildsCount","meleeId","meleeProperty1","meleeProperty2","meleeTrait","rangeId","rangeProperty1","rangeProperty2","rangeTrait","necklaceProperty1","necklaceProperty2","necklaceTrait","charmProperty1","charmProperty2","charmTrait","trinketProperty1","trinketProperty2","trinketTrait","talent1","talent2","talent3","talent4","talent5","talent6","name","description","difficulty","mission","potion","roles","patch","userId","username","children"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { db } from '../utils/Firebase';\r\nimport { AppContext } from './Store';\r\n\r\nconst BuildListPageContext = React.createContext();\r\n\r\nexport {BuildListPageContext}\r\n\r\nfunction reducer(state, action) {\r\n    switch(action.type) {\r\n        case 'UPDATE_CAREER':\r\n            var builds = {...state.builds};\r\n            if (state.careerId !== action.payload) {\r\n                alert('updating build list based on new career');\r\n                let buildsQuery = db.collection('builds').where('careerId', '==', state.careerId);\r\n\r\n                    buildsQuery.orderBy('dateModified').limit(10).get().then((querySnapshot) => {\r\n                    var builds = [];\r\n                    querySnapshot.forEach((build) => {\r\n                        builds.push({ id: build.id, data: build.data()});\r\n                    });\r\n                    alert('updating build list');\r\n                    return {...state, careerId: action.payload, builds: builds, buildsLastDoc: querySnapshot.docs[querySnapshot.docs.length-1], buildsCurrentPage: 1, pageCount: Math.round(querySnapshot.size / 10) + 1 };\r\n                });\r\n            }\r\n\r\n            return {...state, careerId: action.payload}\r\n        case 'UPDATE_BUILDS_DATA':\r\n            return {...state, builds: action.payload.builds, buildsLastDoc: action.payload.lastDoc, buildsPageCount: action.payload.pageCount, buildsCurrentPage: action.payload.currentPage, isInitialized: true };\r\n        default:\r\n            throw new Error('Error updating Build List Page state.');\r\n    }\r\n}\r\n\r\nexport default function BuildListPageStore(props) {\r\n\r\n    const stateHook = React.useReducer(reducer, {\r\n        builds: [],\r\n        buildsLastDocument: {},\r\n        buildsCurrentPage: 0,\r\n        buildsCount: 0,\r\n        careerId: 0,\r\n        meleeId: 0,\r\n        meleeProperty1: 0,\r\n        meleeProperty2: 0,\r\n        meleeTrait: 0,\r\n        rangeId: 0,\r\n        rangeProperty1: 0,\r\n        rangeProperty2: 0,\r\n        rangeTrait: 0,\r\n        necklaceProperty1: 0,\r\n        necklaceProperty2: 0,\r\n        necklaceTrait: 0,\r\n        charmProperty1: 0,\r\n        charmProperty2: 0,\r\n        charmTrait: 0,\r\n        trinketProperty1: 0,\r\n        trinketProperty2: 0,\r\n        trinketTrait: 0,\r\n        talent1: 0,\r\n        talent2: 0,\r\n        talent3: 0,\r\n        talent4: 0,\r\n        talent5: 0,\r\n        talent6: 0,\r\n        name: '',\r\n        description: '',\r\n        difficulty: '',\r\n        mission: '',\r\n        potion: '',\r\n        roles: [],\r\n        patch: '',\r\n        userId: '',\r\n        username: '',\r\n        isInitialized: false\r\n    });\r\n\r\n    return (\r\n        <AppContext.Provider value={stateHook}>\r\n            {props.children}\r\n        </AppContext.Provider>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}