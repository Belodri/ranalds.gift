{"ast":null,"code":"import _slicedToArray from\"C:\\\\dev\\\\ranaldsgift\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"C:\\\\dev\\\\ranaldsgift\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\dev\\\\ranaldsgift\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\dev\\\\ranaldsgift\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\dev\\\\ranaldsgift\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\dev\\\\ranaldsgift\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./HeroTalents.css';import{AppContext}from'../../stores/Store';import{heroesData}from'../../data/Heroes';var HeroTalents=/*#__PURE__*/function(_Component){_inherits(HeroTalents,_Component);var _super=_createSuper(HeroTalents);function HeroTalents(props){var _this;_classCallCheck(this,HeroTalents);_this=_super.call(this,props);_this.renderTalents=_this.renderTalents.bind(_assertThisInitialized(_this));_this.renderTalent=_this.renderTalent.bind(_assertThisInitialized(_this));return _this;}_createClass(HeroTalents,[{key:\"getTalents\",value:function getTalents(careerId){for(var i=0;i<heroesData.length;i++){console.log(heroesData[i]);if(heroesData[i].id===parseInt(careerId)){return heroesData[i].talents;}}}},{key:\"renderTalents\",value:function renderTalents(){var talentList=[];var selectedTalents=this.props.talents?this.props.talents:[0,0,0,0,0,0];var careerId=this.props.careerId;debugger;careerId=careerId>0?careerId:1;var talents=this.getTalents(careerId);for(var i=1;i<7;i++){var tier=i;var tierString=\"level-\".concat(tier*5);talentList.push(/*#__PURE__*/React.createElement(\"span\",{key:tierString,className:\"talent-lock-icon \".concat(tierString)}));for(var j=1;j<4;j++){var talent=(tier-1)*3+j;talentList.push(this.renderTalent(careerId,tier,talent,talents,selectedTalents));}}return talentList;}},{key:\"renderTalent\",value:function renderTalent(careerId,tier,talentNumber,talents,selectedTalents){var _this$context=_slicedToArray(this.context,2),state=_this$context[0],updateState=_this$context[1];var talentString=\"talent-\".concat(careerId.toString().padStart(2,\"0\")).concat(talentNumber.toString().padStart(2,\"0\"));var talentClassName=\"hero-talent tier-\".concat(tier);var selectedTierTalent=selectedTalents[tier-1]+(tier-1)*3;if(selectedTierTalent===talentNumber){talentClassName+=\" selected\";}var talentValue=talentNumber%3===0?3:talentNumber%3;var talent=talents[talentNumber-1];return/*#__PURE__*/React.createElement(\"div\",{\"data-talent\":talentValue,\"data-tier\":tier,onClick:function onClick(e){return updateState({type:\"UPDATE_TALENTS\",payload:{tier:parseInt(e.currentTarget.dataset.tier),talent:parseInt(e.currentTarget.dataset.talent)}});},key:talentString,className:talentClassName},/*#__PURE__*/React.createElement(\"div\",{className:\"talent-button-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"talent-icon \".concat(talentString)}),/*#__PURE__*/React.createElement(\"p\",{className:\"talent-name\"},talent.name),/*#__PURE__*/React.createElement(\"p\",{className:\"talent-description\"},talent.description)));}},{key:\"render\",value:function render(){var talentsContainerClass='';var selectedTalents=this.props.talents?this.props.talents:[0,0,0,0,0,0];if(!Object.values(selectedTalents).includes(0)){talentsContainerClass=\"talents-selected\";}return/*#__PURE__*/React.createElement(\"div\",{className:\"hero-talents-container \".concat(talentsContainerClass)},/*#__PURE__*/React.createElement(\"div\",{className:\"hero-talents-grid\"},/*#__PURE__*/React.createElement(\"p\",{className:\"hero-talents-header\"},\"Talents\"),this.renderTalents(),/*#__PURE__*/React.createElement(\"div\",{class:\"hero-talents-grid-bg\"}),/*#__PURE__*/React.createElement(\"div\",{class:\"hero-talents-grid-border\"})));}},{key:\"handleTalentClick\",value:function handleTalentClick(e){var tierTalents=document.querySelectorAll(\"button.hero-talent[data-tier=\\\"\".concat(e.currentTarget.getAttribute('data-tier'),\"\\\"]\"));tierTalents.forEach(function(talent){talent.classList.remove('selected');});e.currentTarget.classList.add('selected');}}]);return HeroTalents;}(Component);HeroTalents.contextType=AppContext;export default HeroTalents;","map":{"version":3,"sources":["C:/dev/ranaldsgift/src/components/heroTalents/HeroTalents.js"],"names":["React","Component","AppContext","heroesData","HeroTalents","props","renderTalents","bind","renderTalent","careerId","i","length","console","log","id","parseInt","talents","talentList","selectedTalents","getTalents","tier","tierString","push","j","talent","talentNumber","context","state","updateState","talentString","toString","padStart","talentClassName","selectedTierTalent","talentValue","e","type","payload","currentTarget","dataset","name","description","talentsContainerClass","Object","values","includes","tierTalents","document","querySelectorAll","getAttribute","forEach","classList","remove","add","contextType"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport './HeroTalents.css';\r\nimport { AppContext } from '../../stores/Store';\r\nimport {heroesData} from '../../data/Heroes'\r\n\r\nclass HeroTalents extends Component {\r\n  static contextType = AppContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.renderTalents = this.renderTalents.bind(this);\r\n    this.renderTalent = this.renderTalent.bind(this);\r\n  }\r\n\r\n  getTalents(careerId) {\r\n    for (var i = 0; i < heroesData.length; i++) {\r\n      console.log(heroesData[i])\r\n      if (heroesData[i].id === parseInt(careerId)) {\r\n        return heroesData[i].talents;\r\n      }\r\n    }\r\n  }\r\n\r\n  renderTalents() {\r\n    let talentList = [];\r\n    var selectedTalents = this.props.talents ? this.props.talents : [0,0,0,0,0,0];\r\n    var careerId = this.props.careerId;\r\n    debugger;\r\n    careerId = careerId > 0 ? careerId : 1;\r\n    var talents = this.getTalents(careerId);\r\n\r\n    for (var i = 1; i < 7; i++) {\r\n      var tier = i;\r\n      var tierString = `level-${tier*5}`\r\n\r\n      talentList.push(<span key={tierString} className={`talent-lock-icon ${tierString}`}></span>);\r\n\r\n      for (var j = 1; j < 4; j++) {\r\n        var talent = ((tier-1)*3)+j;\r\n        talentList.push(this.renderTalent(careerId, tier, talent, talents, selectedTalents));\r\n\r\n      }\r\n    }\r\n     return talentList;\r\n  }\r\n\r\n  renderTalent(careerId, tier, talentNumber, talents, selectedTalents) {\r\n    const [state, updateState] = this.context;\r\n    var talentString = `talent-${careerId.toString().padStart(2, \"0\")}${talentNumber.toString().padStart(2, \"0\")}`;\r\n    var talentClassName = `hero-talent tier-${tier}`;\r\n\r\n    var selectedTierTalent = selectedTalents[tier-1] + ((tier-1)*3);\r\n\r\n    if (selectedTierTalent === talentNumber) {\r\n      talentClassName += \" selected\";\r\n    }\r\n\r\n    var talentValue = talentNumber % 3 === 0 ? 3 : talentNumber % 3;\r\n    var talent = talents[talentNumber-1];\r\n    return <div data-talent={talentValue} data-tier={tier} onClick={(e) => updateState({type: \"UPDATE_TALENTS\", payload: { tier: parseInt(e.currentTarget.dataset.tier), talent: parseInt(e.currentTarget.dataset.talent)}})} key={talentString} className={talentClassName}>\r\n            <div className=\"talent-button-wrapper\">\r\n              <div className={`talent-icon ${talentString}`}></div>\r\n              <p className=\"talent-name\">{talent.name}</p>\r\n              <p className=\"talent-description\">{talent.description}</p>\r\n            </div>\r\n           </div>;\r\n  }\r\n\r\n  render() {\r\n    var talentsContainerClass = '';\r\n    var selectedTalents = this.props.talents ? this.props.talents : [0,0,0,0,0,0];\r\n    if (!Object.values(selectedTalents).includes(0)) {\r\n      talentsContainerClass = \"talents-selected\"\r\n    }\r\n\r\n    return (\r\n      <div className={`hero-talents-container ${talentsContainerClass}`}>\r\n        <div className=\"hero-talents-grid\">\r\n          <p className=\"hero-talents-header\">Talents</p>          \r\n          {this.renderTalents()}\r\n          <div class=\"hero-talents-grid-bg\"></div>\r\n          <div class=\"hero-talents-grid-border\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleTalentClick(e) {\r\n    var tierTalents = document.querySelectorAll(`button.hero-talent[data-tier=\"${e.currentTarget.getAttribute('data-tier')}\"]`);\r\n\r\n    tierTalents.forEach(talent => {\r\n      talent.classList.remove('selected');\r\n    });\r\n\r\n    e.currentTarget.classList.add('selected');\r\n  }\r\n}\r\n\r\nexport default HeroTalents;\r\n"]},"metadata":{},"sourceType":"module"}