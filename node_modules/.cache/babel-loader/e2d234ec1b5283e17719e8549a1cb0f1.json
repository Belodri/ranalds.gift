{"ast":null,"code":"import _slicedToArray from\"C:\\\\dev\\\\New folder\\\\rg\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"C:\\\\dev\\\\New folder\\\\rg\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\dev\\\\New folder\\\\rg\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\dev\\\\New folder\\\\rg\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\dev\\\\New folder\\\\rg\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./App.css';import'../../assets/css/Talents.css';import'../../assets/css/Weapons.css';import'../../assets/css/Icons.css';import'../../assets/css/Heroes.css';import'../../assets/css/Layouts.css';import Background from'./Background';import HeroPage from'../heroPage/HeroPage';import EditBuildPage from'../buildPage/EditBuildPage';import BuildListPage from'../buildList/BuildListPage';import{Route,Router}from'react-router-dom';import\"react-tabs/style/react-tabs.css\";import HeroPageStore from'../../stores/HeroPageStore';import BuildsListPageStore from'../../stores/PagedBuildListStore';import BuildPageStore from'../../stores/BuildPageStore';import LoginPage from'../users/LoginPage';import RegisterPage from'../users/RegisterPage';import MenuPage from'./MenuPage';import HomePage from'./HomePage';import history from'../../utils/History';import{auth,db}from'../../utils/Firebase';import AboutPage from'./AboutPage';import{UserContext}from'../../stores/UserStore';import UserPageContainer from'../users/UserPageContainer';import UserViewStore from'../../stores/UserViewStore';import ViewBuildPage from'../buildPage/ViewBuildPage';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){_classCallCheck(this,App);return _super.apply(this,arguments);}_createClass(App,[{key:\"render\",value:function render(){var _this$context=_slicedToArray(this.context,2),state=_this$context[0],updateState=_this$context[1];auth.onAuthStateChanged(function(user){console.log('auth state changed');console.log(user);var root=document.getElementById('root');if(user!==null){console.log('user logged in');root.classList.add('loggedIn');if(state.userId!==user.uid){db.collection('users').doc(user.uid).get().then(function(doc){console.log('setting state to current user '+user.uid);updateState({type:\"UPDATE_USER_INFO\",payload:{userId:user.uid,username:doc.data().username,email:user.email,steam:doc.data().steam,twitch:doc.data().twitch,dateCreated:doc.data().dateCreated,dateModified:doc.data().dateModified}});}).catch(function(error){console.error(\"Error getting document:\",error);});}if(root.dataset.pageName==='loginPage'||root.dataset.pageName==='registerPage'){setTimeout(function(){history.push('/user/'+user.uid+'/view');},1000);}}else{root.classList.remove('loggedIn');console.log('removing state to current user ');if(state.userId!==''){updateState({type:\"UPDATE_USER_INFO\",payload:{userId:'',username:'',email:'',steam:'',twitch:'',dateCreated:{},dateModified:{}}});}}});//planned features\n//teams page\n//stats page with breakdowns about builds\n//build comparison tool\n//weapon data numbers\n//CW pages/info/support\n//bestiary/equipment guide\n//user ranks for builds created/likes/supporter/vip/mod\n//admin mod page to manage builds in db\n//additional user stats on user page, # of builds, likes etc\n//about page with credits, source link and contribution page\nreturn/*#__PURE__*/React.createElement(Router,{history:history},/*#__PURE__*/React.createElement(\"div\",{className:\"App\",id:\"app\"},/*#__PURE__*/React.createElement(MenuPage,{userId:state.userId}),/*#__PURE__*/React.createElement(Background,null),/*#__PURE__*/React.createElement(\"div\",{className:\"page-title page-title-label label-01\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"page-title page-title-label-background\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"app-container-frame border-06\"},/*#__PURE__*/React.createElement(\"div\",{className:\"app-container background-35\"},/*#__PURE__*/React.createElement(Route,{path:\"/home\",component:HomePage}),/*#__PURE__*/React.createElement(Route,{path:\"/about\",component:AboutPage}),/*#__PURE__*/React.createElement(HeroPageStore,null,/*#__PURE__*/React.createElement(Route,{path:\"/heroes/:careerId?/:talents?/:melee?/:range?/:necklace?/:charm?/:trinket?\",component:HeroPage})),/*#__PURE__*/React.createElement(BuildsListPageStore,null,/*#__PURE__*/React.createElement(Route,{path:\"/builds\",component:BuildListPage})),/*#__PURE__*/React.createElement(BuildPageStore,null,/*#__PURE__*/React.createElement(Route,{path:\"/build/:buildId/edit\",component:EditBuildPage})),/*#__PURE__*/React.createElement(BuildPageStore,null,/*#__PURE__*/React.createElement(Route,{path:\"/build/:buildId/view\",component:ViewBuildPage})),/*#__PURE__*/React.createElement(BuildPageStore,null,/*#__PURE__*/React.createElement(Route,{path:\"/build/create\",component:EditBuildPage})),/*#__PURE__*/React.createElement(Route,{path:\"/login\",component:LoginPage}),/*#__PURE__*/React.createElement(Route,{path:\"/register\",component:RegisterPage}),/*#__PURE__*/React.createElement(UserViewStore,null,/*#__PURE__*/React.createElement(Route,{path:\"/user/:userId\",component:UserPageContainer}))))));}}]);return App;}(Component);App.contextType=UserContext;export default App;","map":{"version":3,"sources":["C:/dev/New folder/rg/src/components/app/App.js"],"names":["React","Component","Background","HeroPage","EditBuildPage","BuildListPage","Route","Router","HeroPageStore","BuildsListPageStore","BuildPageStore","LoginPage","RegisterPage","MenuPage","HomePage","history","auth","db","AboutPage","UserContext","UserPageContainer","UserViewStore","ViewBuildPage","App","context","state","updateState","onAuthStateChanged","user","console","log","root","document","getElementById","classList","add","userId","uid","collection","doc","get","then","type","payload","username","data","email","steam","twitch","dateCreated","dateModified","catch","error","dataset","pageName","setTimeout","push","remove","contextType"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport './App.css';\r\nimport '../../assets/css/Talents.css';\r\nimport '../../assets/css/Weapons.css';\r\nimport '../../assets/css/Icons.css';\r\nimport '../../assets/css/Heroes.css';\r\nimport '../../assets/css/Layouts.css';\r\nimport Background from './Background'\r\nimport HeroPage from '../heroPage/HeroPage'\r\nimport EditBuildPage from '../buildPage/EditBuildPage'\r\nimport BuildListPage from '../buildList/BuildListPage'\r\nimport { Route, Router } from 'react-router-dom'\r\nimport \"react-tabs/style/react-tabs.css\";\r\nimport HeroPageStore from '../../stores/HeroPageStore';\r\nimport BuildsListPageStore from '../../stores/PagedBuildListStore';\r\nimport BuildPageStore from '../../stores/BuildPageStore';\r\nimport LoginPage from '../users/LoginPage';\r\nimport RegisterPage from '../users/RegisterPage';\r\nimport MenuPage from './MenuPage';\r\nimport HomePage from './HomePage';\r\nimport history from '../../utils/History';\r\nimport { auth, db } from '../../utils/Firebase';\r\nimport AboutPage from './AboutPage';\r\nimport { UserContext } from '../../stores/UserStore';\r\nimport UserPageContainer from '../users/UserPageContainer';\r\nimport UserViewStore from '../../stores/UserViewStore';\r\nimport ViewBuildPage from '../buildPage/ViewBuildPage';\r\n\r\nclass App extends Component {\r\n  static contextType = UserContext;\r\n\r\n  render() {  \r\n    const [state, updateState] = this.context;\r\n\r\n    auth.onAuthStateChanged((user) => {\r\n      console.log('auth state changed')\r\n      console.log(user);\r\n\r\n      var root = document.getElementById('root');\r\n      if (user !== null) {\r\n        console.log('user logged in');\r\n        root.classList.add('loggedIn');\r\n        \r\n        if (state.userId !== user.uid) {\r\n\r\n          db.collection('users').doc(user.uid).get().then((doc) => {\r\n\r\n            console.log('setting state to current user ' + user.uid);\r\n\r\n             updateState({\r\n              type: \"UPDATE_USER_INFO\", \r\n              payload: { \r\n                userId: user.uid,\r\n                username: doc.data().username,\r\n                email: user.email,\r\n                steam: doc.data().steam,\r\n                twitch: doc.data().twitch,\r\n                dateCreated: doc.data().dateCreated,\r\n                dateModified: doc.data().dateModified\r\n              }\r\n            });\r\n          }).catch((error) => {\r\n              console.error(\"Error getting document:\", error);\r\n          });\r\n\r\n        }\r\n\r\n        if (root.dataset.pageName === 'loginPage' || root.dataset.pageName === 'registerPage') {\r\n          setTimeout(() => { history.push('/user/' + user.uid + '/view'); }, 1000)\r\n        }\r\n      }\r\n      else {\r\n        root.classList.remove('loggedIn');\r\n        console.log('removing state to current user ');\r\n        if (state.userId !== '') {\r\n          updateState({\r\n            type: \"UPDATE_USER_INFO\", \r\n            payload: { \r\n              userId: '',\r\n              username: '',\r\n              email: '',\r\n              steam: '',\r\n              twitch: '',\r\n              dateCreated: {},\r\n              dateModified: {}\r\n            }\r\n          }); \r\n        }\r\n      }\r\n    });\r\n\r\n\r\n    //planned features\r\n    //teams page\r\n    //stats page with breakdowns about builds\r\n    //build comparison tool\r\n    //weapon data numbers\r\n    //CW pages/info/support\r\n    //bestiary/equipment guide\r\n    //user ranks for builds created/likes/supporter/vip/mod\r\n    //admin mod page to manage builds in db\r\n    //additional user stats on user page, # of builds, likes etc\r\n    //about page with credits, source link and contribution page\r\n\r\n    return (\r\n      <Router history={history}>\r\n      <div className=\"App\" id=\"app\">\r\n        <MenuPage userId={state.userId}></MenuPage>\r\n        <Background></Background>\r\n        <div className=\"page-title page-title-label label-01\"></div>\r\n        <div className=\"page-title page-title-label-background\"></div>\r\n        <div className=\"app-container-frame border-06\">\r\n          <div className=\"app-container background-35\">\r\n            <Route path=\"/home\" component={HomePage}></Route>\r\n            <Route path=\"/about\" component={AboutPage}></Route>\r\n            <HeroPageStore>\r\n              <Route path=\"/heroes/:careerId?/:talents?/:melee?/:range?/:necklace?/:charm?/:trinket?\" component={HeroPage}></Route>\r\n            </HeroPageStore>\r\n            <BuildsListPageStore>\r\n              <Route path=\"/builds\" component={BuildListPage}></Route>\r\n            </BuildsListPageStore>\r\n            <BuildPageStore>\r\n              <Route path=\"/build/:buildId/edit\" component={EditBuildPage}></Route>\r\n            </BuildPageStore>\r\n            <BuildPageStore>\r\n              <Route path=\"/build/:buildId/view\" component={ViewBuildPage}></Route>\r\n            </BuildPageStore>\r\n            <BuildPageStore>\r\n              <Route path=\"/build/create\" component={EditBuildPage}></Route>\r\n            </BuildPageStore>\r\n              <Route path=\"/login\" component={LoginPage}></Route>\r\n              <Route path=\"/register\" component={RegisterPage}></Route>\r\n              <UserViewStore>\r\n                <Route path=\"/user/:userId\" component={UserPageContainer}></Route>\r\n              </UserViewStore>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      </Router>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}