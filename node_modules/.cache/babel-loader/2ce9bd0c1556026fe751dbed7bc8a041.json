{"ast":null,"code":"import _objectSpread from\"C:\\\\dev\\\\New folder\\\\rg\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import React from'react';import{AppContext}from'./Store';import{withRouter}from'react-router';var HeroPageContext=React.createContext();export{HeroPageContext};function heroPageReducer(state,action){switch(action.type){case'INIT_STATE_FROM_URL':var meleeParam=action.payload.melee;var talentsParam=action.payload.talents;var rangeParam=action.payload.range;var necklaceParam=action.payload.necklace;var charmParam=action.payload.charm;var trinketParam=action.payload.trinket;var careerId=action.payload.careerId?action.payload.careerId:1;var talents=[0,0,0,0,0,0];var meleeId=1;var rangeId=1;var meleeProperty1=1;var meleeProperty2=2;var meleeTrait=1;var rangeProperty1=1;var rangeProperty2=2;var rangeTrait=1;var necklaceProperty1=1;var necklaceProperty2=2;var necklaceTrait=1;var charmProperty1=1;var charmProperty2=2;var charmTrait=1;var trinketProperty1=1;var trinketProperty2=2;var trinketTrait=1;if(typeof talentsParam!=\"undefined\"){talents=talentsParam.length>6?talentsParam.subString(0,6).split('').map(function(x){return parseInt(x);}):talentsParam.split('').map(function(x){return parseInt(x);});}if(typeof meleeParam!=\"undefined\"){var meleeParams=meleeParam.split(',');meleeId=parseInt(meleeParams[0]);if(meleeParams.length>1){meleeProperty1=parseInt(meleeParams[1]);}if(meleeParams.length>2){meleeProperty2=parseInt(meleeParams[2]);}if(meleeParams.length>3){meleeTrait=parseInt(meleeParams[3]);}}if(typeof rangeParam!=\"undefined\"){var rangeParams=rangeParam.split(',');rangeId=parseInt(rangeParams[0]);if(rangeParams.length>1){rangeProperty1=parseInt(rangeParams[1]);}if(rangeParams.length>2){rangeProperty2=parseInt(rangeParams[2]);}if(rangeParams.length>3){rangeTrait=parseInt(rangeParams[3]);}}if(typeof necklaceParam!=\"undefined\"){var necklaceParams=necklaceParam.split(',');necklaceProperty1=parseInt(necklaceParams[0]);if(necklaceParams.length>1){necklaceProperty2=parseInt(necklaceParams[1]);}if(necklaceParams.length>2){necklaceTrait=parseInt(necklaceParams[2]);}}if(typeof charmParam!=\"undefined\"){var charmParams=charmParam.split(',');charmProperty1=parseInt(charmParams[0]);if(charmParams.length>1){charmProperty2=parseInt(charmParams[1]);}if(charmParams.length>2){charmTrait=parseInt(charmParams[2]);}}if(typeof trinketParam!=\"undefined\"){var trinketParams=trinketParam.split(',');trinketProperty1=parseInt(trinketParams[0]);if(necklaceParams.length>1){trinketProperty2=parseInt(trinketParams[1]);}if(necklaceParams.length>2){trinketTrait=parseInt(trinketParams[2]);}}var properties=[meleeProperty1,meleeProperty2,rangeProperty1,rangeProperty2,necklaceProperty1,necklaceProperty2,charmProperty1,charmProperty2,trinketProperty1,trinketProperty2];var traits=[meleeTrait,rangeTrait,necklaceTrait,charmTrait,trinketTrait];state.history.push('/');return _objectSpread(_objectSpread({},state),{},{careerId:careerId,meleeId:meleeId,rangeId:rangeId,talents:talents,properties:properties,traits:traits});case'UPDATE_CAREER':return _objectSpread(_objectSpread({},state),{},{careerId:action.payload});case'UPDATE_TALENTS':var newTalents=_objectSpread({},state.talents);newTalents=newTalents[0]<0?[0,0,0,0,0,0]:newTalents;newTalents[action.payload.tier-1]=action.payload.talent;return _objectSpread(_objectSpread({},state),{},{talents:newTalents});case'UPDATE_ALL_TALENTS':return _objectSpread(_objectSpread({},state),{},{talents:action.payload});case'UPDATE_ITEM_SELECT':switch(action.payload.type){case'melee':return _objectSpread(_objectSpread({},state),{},{meleeId:action.payload.id});case'range':return _objectSpread(_objectSpread({},state),{},{rangeId:action.payload.id});case'necklace':var necklace=_objectSpread({},state.necklace);necklace.id=action.payload.id;return _objectSpread(_objectSpread({},state),{},{necklace:necklace});case'charm':var charm=_objectSpread({},state.charm);charm.id=action.payload.id;return _objectSpread(_objectSpread({},state),{},{charm:charm});case'trinket':var trinket=_objectSpread({},state.trinket);trinket.id=action.payload.id;return _objectSpread(_objectSpread({},state),{},{trinket:trinket});default:throw new Error('Error updating Hero Page state.');}case'UPDATE_PROPERTY_SELECT':var newProperties=_objectSpread({},state.properties);newProperties[action.payload.index]=action.payload.id;return _objectSpread(_objectSpread({},state),{},{properties:newProperties});case'UPDATE_TRAIT_SELECT':var newTraits=_objectSpread({},state.traits);newTraits[action.payload.index]=action.payload.id;return _objectSpread(_objectSpread({},state),{},{traits:newTraits});default:throw new Error('Error updating Hero Page state.');}}export default withRouter(function HeroPageStore(props){var stateHook=React.useReducer(heroPageReducer,{history:props.history,careerId:0,meleeId:0,rangeId:0,talents:[-1,0,0,0,0,0],properties:[1,2,1,2,1,2,1,2,1,2],propertyValues:[0,0,0,0,0,0,0,0,0,0],traits:[1,1,1,1,1],melee:{id:1,property1Id:1,property1Value:10,property2Id:2,property2Value:10,traitId:1},range:{id:1,property1Id:1,property1Value:10,property2Id:2,property2Value:10,traitId:1},necklace:{id:1,property1Id:1,property1Value:10,property2Id:2,property2Value:10,traitId:1},charm:{id:1,property1Id:1,property1Value:10,property2Id:2,property2Value:10,traitId:1},trinket:{id:1,property1Id:1,property1Value:10,property2Id:2,property2Value:10,traitId:1}});return/*#__PURE__*/React.createElement(AppContext.Provider,{value:stateHook},props.children);});","map":{"version":3,"sources":["C:/dev/New folder/rg/src/stores/HeroPageStore.js"],"names":["React","AppContext","withRouter","HeroPageContext","createContext","heroPageReducer","state","action","type","meleeParam","payload","melee","talentsParam","talents","rangeParam","range","necklaceParam","necklace","charmParam","charm","trinketParam","trinket","careerId","meleeId","rangeId","meleeProperty1","meleeProperty2","meleeTrait","rangeProperty1","rangeProperty2","rangeTrait","necklaceProperty1","necklaceProperty2","necklaceTrait","charmProperty1","charmProperty2","charmTrait","trinketProperty1","trinketProperty2","trinketTrait","length","subString","split","map","x","parseInt","meleeParams","rangeParams","necklaceParams","charmParams","trinketParams","properties","traits","history","push","newTalents","tier","talent","id","Error","newProperties","index","newTraits","HeroPageStore","props","stateHook","useReducer","propertyValues","property1Id","property1Value","property2Id","property2Value","traitId","children"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { AppContext } from './Store';\r\nimport {withRouter} from 'react-router';\r\n\r\nconst HeroPageContext = React.createContext();\r\n\r\nexport {HeroPageContext}\r\n\r\nfunction heroPageReducer(state, action) {\r\n    switch(action.type) {\r\n        case 'INIT_STATE_FROM_URL':\r\n            var meleeParam = action.payload.melee;\r\n            var talentsParam = action.payload.talents;\r\n            var rangeParam = action.payload.range;\r\n            var necklaceParam = action.payload.necklace;\r\n            var charmParam = action.payload.charm;\r\n            var trinketParam = action.payload.trinket;\r\n\r\n            var careerId = action.payload.careerId ? action.payload.careerId : 1;\r\n            var talents = [0,0,0,0,0,0];\r\n            var meleeId = 1;\r\n            var rangeId = 1;\r\n            var meleeProperty1 = 1;\r\n            var meleeProperty2 = 2;\r\n            var meleeTrait = 1;\r\n            var rangeProperty1 = 1;\r\n            var rangeProperty2 = 2;\r\n            var rangeTrait = 1;\r\n            var necklaceProperty1 = 1;\r\n            var necklaceProperty2 = 2;\r\n            var necklaceTrait = 1;\r\n            var charmProperty1 = 1;\r\n            var charmProperty2 = 2;\r\n            var charmTrait = 1;\r\n            var trinketProperty1 = 1;\r\n            var trinketProperty2 = 2;\r\n            var trinketTrait = 1;\r\n\r\n            if (typeof talentsParam != \"undefined\") {\r\n                talents = talentsParam.length > 6 ? talentsParam.subString(0,6).split('').map((x) => { return parseInt(x); }) : talentsParam.split('').map((x) => { return parseInt(x); });\r\n            }\r\n\r\n            if (typeof meleeParam != \"undefined\") {\r\n                var meleeParams = meleeParam.split(',');\r\n                meleeId = parseInt(meleeParams[0]);\r\n\r\n                if (meleeParams.length > 1) {\r\n                    meleeProperty1 = parseInt(meleeParams[1]);\r\n                }\r\n                if (meleeParams.length > 2) {\r\n                    meleeProperty2 = parseInt(meleeParams[2]);\r\n                }\r\n                if (meleeParams.length > 3) {\r\n                    meleeTrait = parseInt(meleeParams[3]);\r\n                }\r\n            }\r\n\r\n            if (typeof rangeParam != \"undefined\") {\r\n                var rangeParams = rangeParam.split(',');\r\n                rangeId = parseInt(rangeParams[0]);\r\n\r\n                if (rangeParams.length > 1) {\r\n                    rangeProperty1 = parseInt(rangeParams[1]);\r\n                }\r\n                if (rangeParams.length > 2) {\r\n                    rangeProperty2 = parseInt(rangeParams[2]);\r\n                }\r\n                if (rangeParams.length > 3) {\r\n                    rangeTrait = parseInt(rangeParams[3]);\r\n                }\r\n            }\r\n\r\n            if (typeof necklaceParam != \"undefined\") {\r\n                var necklaceParams = necklaceParam.split(',');\r\n                necklaceProperty1 = parseInt(necklaceParams[0]);\r\n\r\n                if (necklaceParams.length > 1) {\r\n                    necklaceProperty2 = parseInt(necklaceParams[1]);\r\n                }\r\n                if (necklaceParams.length > 2) {\r\n                    necklaceTrait = parseInt(necklaceParams[2]);\r\n                }\r\n            }\r\n\r\n            if (typeof charmParam != \"undefined\") {\r\n                var charmParams = charmParam.split(',');\r\n                charmProperty1 = parseInt(charmParams[0]);\r\n\r\n                if (charmParams.length > 1) {\r\n                    charmProperty2 = parseInt(charmParams[1]);\r\n                }\r\n                if (charmParams.length > 2) {\r\n                    charmTrait = parseInt(charmParams[2]);\r\n                }\r\n            }\r\n\r\n            if (typeof trinketParam != \"undefined\") {\r\n                var trinketParams = trinketParam.split(',');\r\n                trinketProperty1 = parseInt(trinketParams[0]);\r\n\r\n                if (necklaceParams.length > 1) {\r\n                    trinketProperty2 = parseInt(trinketParams[1]);\r\n                }\r\n                if (necklaceParams.length > 2) {\r\n                    trinketTrait = parseInt(trinketParams[2]);\r\n                }\r\n            }\r\n\r\n            var properties = [meleeProperty1, meleeProperty2, rangeProperty1, rangeProperty2, necklaceProperty1, necklaceProperty2, charmProperty1, charmProperty2, trinketProperty1, trinketProperty2]\r\n            var traits = [meleeTrait, rangeTrait, necklaceTrait, charmTrait, trinketTrait];\r\n\r\n            state.history.push('/');\r\n            \r\n            return {...state,\r\n                        careerId: careerId,\r\n                        meleeId: meleeId,\r\n                        rangeId: rangeId,\r\n                        talents: talents,\r\n                        properties: properties,\r\n                        traits: traits\r\n                    };\r\n        case 'UPDATE_CAREER':\r\n            return {...state, careerId: action.payload};\r\n        case 'UPDATE_TALENTS':\r\n            var newTalents = {...state.talents};\r\n            newTalents = newTalents[0] < 0 ? [0,0,0,0,0,0] : newTalents;\r\n            newTalents[action.payload.tier-1] = action.payload.talent;\r\n            return {...state, talents: newTalents};\r\n        case 'UPDATE_ALL_TALENTS':\r\n            return {...state, talents: action.payload};\r\n        case 'UPDATE_ITEM_SELECT':\r\n            switch (action.payload.type) {\r\n                case 'melee':\r\n                    return {...state, meleeId: action.payload.id};\r\n                case 'range':\r\n                    return {...state, rangeId: action.payload.id};\r\n                case 'necklace':\r\n                    var necklace = {...state.necklace};\r\n                    necklace.id = action.payload.id;\r\n                    return {...state, necklace: necklace};\r\n                case 'charm':\r\n                    var charm = {...state.charm};\r\n                    charm.id = action.payload.id;\r\n                    return {...state, charm: charm};\r\n                case 'trinket':\r\n                    var trinket = {...state.trinket};\r\n                    trinket.id = action.payload.id;\r\n                    return {...state, trinket: trinket};\r\n                default:\r\n                    throw new Error('Error updating Hero Page state.');\r\n            }\r\n        case 'UPDATE_PROPERTY_SELECT':\r\n            var newProperties = {...state.properties};\r\n            newProperties[action.payload.index] = action.payload.id;\r\n            return {...state, properties: newProperties}\r\n        case 'UPDATE_TRAIT_SELECT':\r\n            var newTraits = {...state.traits};\r\n            newTraits[action.payload.index] = action.payload.id;\r\n            return {...state, traits: newTraits}\r\n        default:\r\n            throw new Error('Error updating Hero Page state.');\r\n        }\r\n}\r\n\r\nexport default withRouter(function HeroPageStore(props) {\r\n\r\n    const stateHook = React.useReducer(heroPageReducer, {\r\n        history: props.history,\r\n        careerId: 0,\r\n        meleeId: 0,\r\n        rangeId: 0,\r\n        talents: [-1,0,0,0,0,0],\r\n        properties: [1,2,1,2,1,2,1,2,1,2],\r\n        propertyValues: [0,0,0,0,0,0,0,0,0,0],\r\n        traits: [1,1,1,1,1],\r\n        melee: {\r\n            id: 1,\r\n            property1Id: 1,\r\n            property1Value: 10,\r\n            property2Id: 2,\r\n            property2Value: 10,\r\n            traitId: 1\r\n        },\r\n        range: {\r\n            id: 1,\r\n            property1Id: 1,\r\n            property1Value: 10,\r\n            property2Id: 2,\r\n            property2Value: 10,\r\n            traitId: 1\r\n        },\r\n        necklace: {\r\n            id: 1,\r\n            property1Id: 1,\r\n            property1Value: 10,\r\n            property2Id: 2,\r\n            property2Value: 10,\r\n            traitId: 1\r\n        },\r\n        charm: {\r\n            id: 1,\r\n            property1Id: 1,\r\n            property1Value: 10,\r\n            property2Id: 2,\r\n            property2Value: 10,\r\n            traitId: 1\r\n        },\r\n        trinket: {\r\n            id: 1,\r\n            property1Id: 1,\r\n            property1Value: 10,\r\n            property2Id: 2,\r\n            property2Value: 10,\r\n            traitId: 1\r\n        }\r\n    });\r\n\r\n    return (\r\n        <AppContext.Provider value={stateHook}>\r\n            {props.children}\r\n        </AppContext.Provider>\r\n    )\r\n});"]},"metadata":{},"sourceType":"module"}