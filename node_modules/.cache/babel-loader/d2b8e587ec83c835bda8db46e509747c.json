{"ast":null,"code":"import { auth } from \"./Firebase\";\nimport history from './History';\nimport { UserPageContext } from '../stores/UserPageStore';\nconsole.log('user helper');\nalert('updating user info');\nconst [state, updateState] = UserPageContext;\nauth.onAuthStateChanged(user => {\n  if (user != null) {\n    var root = document.getElementById('root');\n    root.classList.add('loggedIn');\n\n    if (root.classList.contains('loginPage')) {\n      alert('updating user info');\n      updateState({\n        type: \"UPDATE_USER_INFO\",\n        payload: {\n          userId: user.uid,\n          username: user.displayName,\n          email: user.email,\n          steam: '',\n          twitch: '',\n          reddit: ''\n        }\n      });\n    }\n  } else {\n    root.classList.remove('loggedIn');\n  }\n});\nexport class UserHelper {}\n\nUserHelper.loginUser = (email, password) => {\n  auth.signInWithEmailAndPassword(email, password).then(function () {\n    alert('logged in!');\n    console.log(auth.currentUser);\n    return;\n  }).catch(function (error) {\n    // Handle Errors here.\n    var errorCode = error.code;\n    var errorMessage = error.message; // ...\n\n    alert(`${errorCode} - ${errorMessage}`);\n    return;\n  });\n};","map":{"version":3,"sources":["C:/dev/ranalds.gift/src/utils/UserHelper.js"],"names":["auth","history","UserPageContext","console","log","alert","state","updateState","onAuthStateChanged","user","root","document","getElementById","classList","add","contains","type","payload","userId","uid","username","displayName","email","steam","twitch","reddit","remove","UserHelper","loginUser","password","signInWithEmailAndPassword","then","currentUser","catch","error","errorCode","code","errorMessage","message"],"mappings":"AAAA,SAASA,IAAT,QAAqB,YAArB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,eAAT,QAAgC,yBAAhC;AAEAC,OAAO,CAACC,GAAR,CAAY,aAAZ;AACAC,KAAK,CAAC,oBAAD,CAAL;AAEA,MAAM,CAACC,KAAD,EAAQC,WAAR,IAAuBL,eAA7B;AAEAF,IAAI,CAACQ,kBAAL,CAAyBC,IAAD,IAAU;AAE9B,MAAIA,IAAI,IAAI,IAAZ,EAAkB;AACd,QAAIC,IAAI,GAAGC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAX;AACAF,IAAAA,IAAI,CAACG,SAAL,CAAeC,GAAf,CAAmB,UAAnB;;AACA,QAAIJ,IAAI,CAACG,SAAL,CAAeE,QAAf,CAAwB,WAAxB,CAAJ,EAA0C;AACtCV,MAAAA,KAAK,CAAC,oBAAD,CAAL;AACAE,MAAAA,WAAW,CAAC;AACRS,QAAAA,IAAI,EAAE,kBADE;AAERC,QAAAA,OAAO,EAAE;AACLC,UAAAA,MAAM,EAAET,IAAI,CAACU,GADR;AAELC,UAAAA,QAAQ,EAAEX,IAAI,CAACY,WAFV;AAGLC,UAAAA,KAAK,EAAEb,IAAI,CAACa,KAHP;AAILC,UAAAA,KAAK,EAAE,EAJF;AAKLC,UAAAA,MAAM,EAAE,EALH;AAMLC,UAAAA,MAAM,EAAE;AANH;AAFD,OAAD,CAAX;AAWH;AACJ,GAjBD,MAkBK;AACDf,IAAAA,IAAI,CAACG,SAAL,CAAea,MAAf,CAAsB,UAAtB;AACH;AACJ,CAvBD;AAyBA,OAAO,MAAMC,UAAN,CAAiB;;AAAXA,U,CACFC,S,GAAY,CAACN,KAAD,EAAQO,QAAR,KAAqB;AACpC7B,EAAAA,IAAI,CAAC8B,0BAAL,CAAgCR,KAAhC,EAAuCO,QAAvC,EAAiDE,IAAjD,CAAsD,YAAW;AAC7D1B,IAAAA,KAAK,CAAC,YAAD,CAAL;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAI,CAACgC,WAAjB;AACA;AACH,GAJD,EAIGC,KAJH,CAIS,UAASC,KAAT,EAAgB;AACrB;AACA,QAAIC,SAAS,GAAGD,KAAK,CAACE,IAAtB;AACA,QAAIC,YAAY,GAAGH,KAAK,CAACI,OAAzB,CAHqB,CAIrB;;AACAjC,IAAAA,KAAK,CAAE,GAAE8B,SAAU,MAAKE,YAAa,EAAhC,CAAL;AACA;AACH,GAXD;AAYH,C","sourcesContent":["import { auth } from \"./Firebase\";\r\nimport history from './History'\r\nimport { UserPageContext } from '../stores/UserPageStore';\r\n\r\nconsole.log('user helper');\r\nalert('updating user info');\r\n\r\nconst [state, updateState] = UserPageContext;\r\n\r\nauth.onAuthStateChanged((user) => {\r\n\r\n    if (user != null) {\r\n        var root = document.getElementById('root');\r\n        root.classList.add('loggedIn');\r\n        if (root.classList.contains('loginPage')) {\r\n            alert('updating user info');\r\n            updateState({\r\n                type: \"UPDATE_USER_INFO\", \r\n                payload: {\r\n                    userId: user.uid,\r\n                    username: user.displayName,\r\n                    email: user.email,\r\n                    steam: '',\r\n                    twitch: '',\r\n                    reddit: ''\r\n                }\r\n            });\r\n        }\r\n    }\r\n    else {\r\n        root.classList.remove('loggedIn');\r\n    }\r\n});\r\n\r\nexport class UserHelper {\r\n    static loginUser = (email, password) => {\r\n        auth.signInWithEmailAndPassword(email, password).then(function() {\r\n            alert('logged in!');\r\n            console.log(auth.currentUser);\r\n            return;\r\n        }).catch(function(error) {\r\n            // Handle Errors here.\r\n            var errorCode = error.code;\r\n            var errorMessage = error.message;\r\n            // ...\r\n            alert(`${errorCode} - ${errorMessage}`);\r\n            return;\r\n        });\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}