{"ast":null,"code":"var _jsxFileName = \"C:\\\\dev\\\\ranalds.gift\\\\src\\\\stores\\\\BuildPageStore.js\";\nimport React from 'react';\nimport { AppContext } from './Store';\nimport { db } from '../utils/Firebase';\nconst BuildPageContext = React.createContext();\nexport { BuildPageContext };\n\nfunction buildPageReducer(state, action) {\n  console.log('build page reducer');\n  console.log(action);\n\n  switch (action.type) {\n    case 'UPDATE_CAREER':\n      return { ...state,\n        careerId: action.payload\n      };\n\n    case 'UPDATE_TALENTS':\n      var newTalents = { ...state.talents\n      };\n      newTalents[action.payload.tier - 1] = action.payload.talent;\n      return { ...state,\n        talents: newTalents\n      };\n\n    case 'UPDATE_ITEM_SELECT':\n      switch (action.payload.type) {\n        case 'melee':\n          return { ...state,\n            meleeId: action.payload.id\n          };\n\n        case 'range':\n          return { ...state,\n            rangeId: action.payload.id\n          };\n\n        case 'necklace':\n          var necklace = { ...state.necklace\n          };\n          necklace.id = action.payload.id;\n          return { ...state,\n            necklace: necklace\n          };\n\n        case 'charm':\n          var charm = { ...state.charm\n          };\n          charm.id = action.payload.id;\n          return { ...state,\n            charm: charm\n          };\n\n        case 'trinket':\n          var trinket = { ...state.trinket\n          };\n          trinket.id = action.payload.id;\n          return { ...state,\n            trinket: trinket\n          };\n\n        default:\n          throw new Error('Error updating Hero Page state.');\n      }\n\n    case 'SAVE_BUILD':\n      console.log(state);\n      var buildsQuery = db.collection(\"buildsTable\").limit(10);\n      buildsQuery.get().then(queryRef => {\n        console.log('builds');\n        console.log(queryRef.docs[0].data());\n        console.log(queryRef.docs[0].id);\n      });\n      return { ...state\n      };\n\n    default:\n      throw new Error('Error updating Build Page state.');\n  }\n}\n\nexport default function BuildPageStore(props) {\n  const stateHook = React.useReducer(buildPageReducer, {\n    careerId: 1,\n    meleeId: 0,\n    rangeId: 0,\n    talents: [-1, 0, 0, 0, 0, 0],\n    properties: [1, 2, 1, 2, 1, 2, 1, 2, 1, 2],\n    propertyValues: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    traits: [1, 1, 1, 1, 1],\n    difficulty: 0,\n    mission: 0,\n    potion: 0,\n    roles: []\n  });\n  return /*#__PURE__*/React.createElement(AppContext.Provider, {\n    value: stateHook,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, props.children);\n}","map":{"version":3,"sources":["C:/dev/ranalds.gift/src/stores/BuildPageStore.js"],"names":["React","AppContext","db","BuildPageContext","createContext","buildPageReducer","state","action","console","log","type","careerId","payload","newTalents","talents","tier","talent","meleeId","id","rangeId","necklace","charm","trinket","Error","buildsQuery","collection","limit","get","then","queryRef","docs","data","BuildPageStore","props","stateHook","useReducer","properties","propertyValues","traits","difficulty","mission","potion","roles","children"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { AppContext } from './Store';\r\nimport {db} from '../utils/Firebase'\r\n\r\nconst BuildPageContext = React.createContext();\r\n\r\nexport {BuildPageContext}\r\n\r\nfunction buildPageReducer(state, action) {\r\n    console.log('build page reducer');\r\n    console.log(action);\r\n\r\n    switch(action.type) {\r\n        case 'UPDATE_CAREER':\r\n            return {...state, careerId: action.payload};\r\n        case 'UPDATE_TALENTS':\r\n            var newTalents = {...state.talents};\r\n            newTalents[action.payload.tier-1] = action.payload.talent;\r\n            return {...state, talents: newTalents};\r\n        case 'UPDATE_ITEM_SELECT':\r\n            switch (action.payload.type) {\r\n                case 'melee':\r\n                    return {...state, meleeId: action.payload.id};\r\n                case 'range':\r\n                    return {...state, rangeId: action.payload.id};\r\n                case 'necklace':\r\n                    var necklace = {...state.necklace};\r\n                    necklace.id = action.payload.id;\r\n                    return {...state, necklace: necklace};\r\n                case 'charm':\r\n                    var charm = {...state.charm};\r\n                    charm.id = action.payload.id;\r\n                    return {...state, charm: charm};\r\n                case 'trinket':\r\n                    var trinket = {...state.trinket};\r\n                    trinket.id = action.payload.id;\r\n                    return {...state, trinket: trinket};\r\n                default:\r\n                    throw new Error('Error updating Hero Page state.');\r\n            }\r\n        case 'SAVE_BUILD':\r\n                console.log(state);\r\n            var buildsQuery = db.collection(\"buildsTable\").limit(10);\r\n            buildsQuery.get().then((queryRef) => { \r\n                console.log('builds');\r\n                console.log(queryRef.docs[0].data());\r\n                console.log(queryRef.docs[0].id);\r\n            });\r\n            return {...state};\r\n        default:\r\n            throw new Error('Error updating Build Page state.');\r\n    }\r\n}\r\n\r\nexport default function BuildPageStore(props) {\r\n    const stateHook = React.useReducer(buildPageReducer, {\r\n        careerId: 1,\r\n        meleeId: 0,\r\n        rangeId: 0,\r\n        talents: [-1,0,0,0,0,0],\r\n        properties: [1,2,1,2,1,2,1,2,1,2],\r\n        propertyValues: [0,0,0,0,0,0,0,0,0,0],\r\n        traits: [1,1,1,1,1],\r\n        difficulty: 0,\r\n        mission: 0,\r\n        potion: 0,\r\n        roles: []\r\n    });\r\n\r\n    return (\r\n        <AppContext.Provider value={stateHook}>\r\n            {props.children}\r\n        </AppContext.Provider>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}